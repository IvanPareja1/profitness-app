(()=>{var e={};e.id=710,e.ids=[710],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},73423:e=>{e.exports={style:{fontFamily:"'__Inter_e8ce0c', '__Inter_Fallback_e8ce0c'",fontStyle:"normal"},className:"__className_e8ce0c",variable:"__variable_e8ce0c"}},14880:e=>{e.exports={style:{fontFamily:"'__Pacifico_5f64cf', '__Pacifico_Fallback_5f64cf'",fontWeight:400,fontStyle:"normal"},className:"__className_5f64cf",variable:"__variable_5f64cf"}},92434:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>p,tree:()=>c});var a=r(67096),t=r(16132),i=r(37284),n=r.n(i),l=r(32564),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(s,o);let c=["",{children:["app",{children:["custom-food",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,21073)),"C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\app\\custom-food\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,64771)),"C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,42624)),"C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\app\\not-found.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,35345)),"C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,44293)),"C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\not-found.tsx"]}],d=["C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\app\\custom-food\\page.tsx"],x="/app/custom-food/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/app/custom-food/page",pathname:"/app/custom-food",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},43704:(e,s,r)=>{Promise.resolve().then(r.bind(r,57891))},57891:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>CustomFoodPage});var a=r(30784),t=r(9885),i=r(11440),n=r.n(i);!function(){var e=Error("Cannot find module '@/lib/supabase'");throw e.code="MODULE_NOT_FOUND",e}();var l=r(57114);function CustomFoodPage(){let[e,s]=(0,t.useState)(!1),[r,i]=(0,t.useState)(!1),o=(0,l.useRouter)(),[c,d]=(0,t.useState)({name:"",brand:"",calories:0,protein:0,carbs:0,fat:0,fiber:0,sugar:0,sodium:0,serving_size:"100",serving_unit:"g",category:"otros"}),x=[{id:"g",name:"gramos"},{id:"ml",name:"mililitros"},{id:"taza",name:"taza"},{id:"cucharada",name:"cucharada"},{id:"cucharadita",name:"cucharadita"},{id:"pieza",name:"pieza/unidad"},{id:"rebanada",name:"rebanada"},{id:"porcion",name:"porci\xf3n"}],handleInputChange=(e,s)=>{d(r=>({...r,[e]:s}))},validateForm=()=>c.name.trim()?c.calories<0||c.protein<0||c.carbs<0||c.fat<0?(alert("Los valores nutricionales no pueden ser negativos"),!1):!(!c.serving_size||0>=parseFloat(c.serving_size))||(alert("Por favor ingresa un tama\xf1o de porci\xf3n v\xe1lido"),!1):(alert("Por favor ingresa el nombre del alimento"),!1),handleSubmit=async e=>{if(e.preventDefault(),validateForm()){s(!0);try{let e=await Object(function(){var e=Error("Cannot find module '@/lib/supabase'");throw e.code="MODULE_NOT_FOUND",e}())();if(!e){o.push("/auth");return}await Object(function(){var e=Error("Cannot find module '@/lib/supabase'");throw e.code="MODULE_NOT_FOUND",e}())("nutrition-tracker",{action:"add_custom_food",userId:e.id,customFood:{...c,calories:Number(c.calories),protein:Number(c.protein),carbs:Number(c.carbs),fat:Number(c.fat),fiber:Number(c.fiber),sugar:Number(c.sugar),sodium:Number(c.sodium),serving_size:parseFloat(c.serving_size)}}),i(!0),d({name:"",brand:"",calories:0,protein:0,carbs:0,fat:0,fiber:0,sugar:0,sodium:0,serving_size:"100",serving_unit:"g",category:"otros"}),setTimeout(()=>{i(!1)},3e3)}catch(e){console.error("Error saving custom food:",e),alert("Error al guardar el alimento personalizado. Int\xe9ntalo de nuevo.")}finally{s(!1)}}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50",children:[r&&(0,a.jsxs)("div",{className:"fixed top-20 left-4 right-4 bg-green-500 text-white px-4 py-3 rounded-lg shadow-lg z-50 flex items-center space-x-2",children:[a.jsx("i",{className:"ri-check-line text-lg"}),a.jsx("span",{children:"\xa1Alimento personalizado creado exitosamente!"})]}),a.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white/95 backdrop-blur-sm shadow-sm z-10",children:(0,a.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(n(),{href:"/food-search",className:"w-8 h-8 flex items-center justify-center",children:a.jsx("i",{className:"ri-arrow-left-line text-gray-600 text-xl"})}),a.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Crear Alimento"})]}),a.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx("i",{className:"ri-add-line text-purple-500 text-lg"})})]})}),(0,a.jsxs)("div",{className:"pt-20 pb-20 px-4",children:[(0,a.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center space-x-2",children:[a.jsx("i",{className:"ri-information-line text-purple-500"}),a.jsx("span",{children:"Informaci\xf3n B\xe1sica"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Alimento *"}),a.jsx("input",{type:"text",value:c.name,onChange:e=>handleInputChange("name",e.target.value),placeholder:"Ej: Pasta casera, Smoothie de frutas...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Marca (Opcional)"}),a.jsx("input",{type:"text",value:c.brand,onChange:e=>handleInputChange("brand",e.target.value),placeholder:"Ej: Casero, Marca comercial...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categor\xeda"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"frutas",name:"Frutas",icon:"ri-apple-line"},{id:"verduras",name:"Verduras",icon:"ri-leaf-line"},{id:"proteinas",name:"Prote\xednas",icon:"ri-restaurant-line"},{id:"cereales",name:"Cereales",icon:"ri-seedling-line"},{id:"lacteos",name:"L\xe1cteos",icon:"ri-cup-line"},{id:"grasas",name:"Grasas",icon:"ri-drop-line"},{id:"bebidas",name:"Bebidas",icon:"ri-glass-line"},{id:"snacks",name:"Snacks",icon:"ri-cake-line"},{id:"condimentos",name:"Condimentos",icon:"ri-flask-line"},{id:"otros",name:"Otros",icon:"ri-more-line"}].map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>handleInputChange("category",e.id),className:`flex items-center space-x-2 p-3 rounded-xl border transition-all ${c.category===e.id?"bg-purple-100 border-purple-300 text-purple-700":"bg-gray-50 border-gray-200 text-gray-600"}`,children:[a.jsx("i",{className:`${e.icon} text-sm`}),a.jsx("span",{className:"text-sm font-medium",children:e.name})]},e.id))})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center space-x-2",children:[a.jsx("i",{className:"ri-scales-line text-purple-500"}),a.jsx("span",{children:"Tama\xf1o de Porci\xf3n"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cantidad *"}),a.jsx("input",{type:"number",step:"0.1",min:"0.1",value:c.serving_size,onChange:e=>handleInputChange("serving_size",e.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unidad"}),a.jsx("select",{value:c.serving_unit,onChange:e=>handleInputChange("serving_unit",e.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:x.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))})]})]}),a.jsx("div",{className:"mt-3 p-3 bg-purple-50 border border-purple-200 rounded-xl",children:(0,a.jsxs)("p",{className:"text-sm text-purple-700",children:[a.jsx("i",{className:"ri-information-line mr-1"}),"Los valores nutricionales se calcular\xe1n por ",c.serving_size," ",x.find(e=>e.id===c.serving_unit)?.name]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center space-x-2",children:[a.jsx("i",{className:"ri-pie-chart-line text-purple-500"}),a.jsx("span",{children:"Macronutrientes *"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Calor\xedas (kcal)"}),a.jsx("input",{type:"number",step:"0.1",min:"0",value:c.calories,onChange:e=>handleInputChange("calories",parseFloat(e.target.value)||0),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prote\xednas (g)"}),a.jsx("input",{type:"number",step:"0.1",min:"0",value:c.protein,onChange:e=>handleInputChange("protein",parseFloat(e.target.value)||0),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Carbohidratos (g)"}),a.jsx("input",{type:"number",step:"0.1",min:"0",value:c.carbs,onChange:e=>handleInputChange("carbs",parseFloat(e.target.value)||0),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grasas (g)"}),a.jsx("input",{type:"number",step:"0.1",min:"0",value:c.fat,onChange:e=>handleInputChange("fat",parseFloat(e.target.value)||0),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),a.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-xl",children:(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-3 text-center",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-lg font-bold text-orange-600",children:c.calories}),a.jsx("div",{className:"text-xs text-gray-500",children:"kcal"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-blue-600",children:[c.protein,"g"]}),a.jsx("div",{className:"text-xs text-gray-500",children:"Prote\xedna"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[c.carbs,"g"]}),a.jsx("div",{className:"text-xs text-gray-500",children:"Carbohidratos"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-yellow-600",children:[c.fat,"g"]}),a.jsx("div",{className:"text-xs text-gray-500",children:"Grasas"})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center space-x-2",children:[a.jsx("i",{className:"ri-microscope-line text-purple-500"}),a.jsx("span",{children:"Micronutrientes (Opcional)"})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fibra (g)"}),a.jsx("input",{type:"number",step:"0.1",min:"0",value:c.fiber,onChange:e=>handleInputChange("fiber",parseFloat(e.target.value)||0),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Az\xfacar (g)"}),a.jsx("input",{type:"number",step:"0.1",min:"0",value:c.sugar,onChange:e=>handleInputChange("sugar",parseFloat(e.target.value)||0),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sodio (mg)"}),a.jsx("input",{type:"number",step:"0.1",min:"0",value:c.sodium,onChange:e=>handleInputChange("sodium",parseFloat(e.target.value)||0),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[a.jsx(n(),{href:"/food-search",className:"flex-1 border border-gray-300 text-gray-700 py-4 rounded-xl font-medium text-center",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:e,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white py-4 rounded-xl font-medium disabled:opacity-50 flex items-center justify-center space-x-2",children:e?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Guardando..."})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("i",{className:"ri-save-line"}),a.jsx("span",{children:"Crear Alimento"})]})})]})]}),(0,a.jsxs)("div",{className:"mt-6 bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center space-x-2",children:[a.jsx("i",{className:"ri-lightbulb-line text-yellow-500"}),a.jsx("span",{children:"Consejos \xdatiles"})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,a.jsxs)("p",{className:"flex items-start space-x-2",children:[a.jsx("i",{className:"ri-arrow-right-s-line text-purple-500 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"Puedes encontrar informaci\xf3n nutricional en el empaque del producto"})]}),(0,a.jsxs)("p",{className:"flex items-start space-x-2",children:[a.jsx("i",{className:"ri-arrow-right-s-line text-purple-500 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"Para recetas caseras, suma los ingredientes individuales"})]}),(0,a.jsxs)("p",{className:"flex items-start space-x-2",children:[a.jsx("i",{className:"ri-arrow-right-s-line text-purple-500 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"Los alimentos personalizados aparecer\xe1n en tus b\xfasquedas futuras"})]})]})]})]}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200",children:(0,a.jsxs)("div",{className:"grid grid-cols-5 py-2",children:[(0,a.jsxs)(n(),{href:"/",className:"flex flex-col items-center justify-center py-2",children:[a.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:a.jsx("i",{className:"ri-home-line text-gray-400 text-lg"})}),a.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Inicio"})]}),(0,a.jsxs)(n(),{href:"/nutrition",className:"flex flex-col items-center justify-center py-2",children:[a.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:a.jsx("i",{className:"ri-restaurant-fill text-green-500 text-lg"})}),a.jsx("span",{className:"text-xs text-green-500 mt-1",children:"Comida"})]}),a.jsx(n(),{href:"/scan",className:"flex flex-col items-center justify-center py-2",children:a.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:a.jsx("i",{className:"ri-qr-scan-2-line text-white text-lg"})})}),(0,a.jsxs)(n(),{href:"/reports",className:"flex flex-col items-center justify-center py-2",children:[a.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:a.jsx("i",{className:"ri-bar-chart-line text-gray-400 text-lg"})}),a.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Reportes"})]}),(0,a.jsxs)(n(),{href:"/profile",className:"flex flex-col items-center justify-center py-2",children:[a.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:a.jsx("i",{className:"ri-user-line text-gray-400 text-lg"})}),a.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Perfil"})]})]})})]})}},21073:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var a=r(95153);let t=(0,a.createProxy)(String.raw`C:\Users\biges\OneDrive\Escritorio\profitnessapp\app\app\custom-food\page.tsx`),{__esModule:i,$$typeof:n}=t,l=t.default,o=l},57114:(e,s,r)=>{e.exports=r(4979)}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),r=s.X(0,[621,825,539],()=>__webpack_exec__(92434));module.exports=r})();