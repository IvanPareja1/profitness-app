(()=>{var e={};e.id=875,e.ids=[875],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},73423:e=>{e.exports={style:{fontFamily:"'__Inter_e8ce0c', '__Inter_Fallback_e8ce0c'",fontStyle:"normal"},className:"__className_e8ce0c",variable:"__variable_e8ce0c"}},14880:e=>{e.exports={style:{fontFamily:"'__Pacifico_5f64cf', '__Pacifico_Fallback_5f64cf'",fontWeight:400,fontStyle:"normal"},className:"__className_5f64cf",variable:"__variable_5f64cf"}},64746:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>u,tree:()=>o});var r=a(67096),t=a(16132),n=a(37284),i=a.n(n),l=a(32564),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);a.d(s,c);let o=["",{children:["app",{children:["scan",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,89861)),"C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\app\\scan\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,64771)),"C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,42624)),"C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\app\\not-found.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,35345)),"C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,44293)),"C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\not-found.tsx"]}],d=["C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\app\\scan\\page.tsx"],x="/app/scan/page",m={require:a,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/app/scan/page",pathname:"/app/scan",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},70696:(e,s,a)=>{Promise.resolve().then(a.bind(a,2841))},2841:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>ScanPage});var r=a(30784),t=a(9885),n=a(11440),i=a.n(n);!function(){var e=Error("Cannot find module '@/lib/supabase'");throw e.code="MODULE_NOT_FOUND",e}();var l=a(57114);function ScanPage(){let[e,s]=(0,t.useState)("barcode"),[a,n]=(0,t.useState)(!1),[c,o]=(0,t.useState)(!1),[d,x]=(0,t.useState)(null),[m,u]=(0,t.useState)("desayuno"),[p,b]=(0,t.useState)(""),[h,g]=(0,t.useState)(!1),[f,j]=(0,t.useState)(null),[N,y]=(0,t.useState)(null),[v,_]=(0,t.useState)(!1),[w,S]=(0,t.useState)(""),O=(0,t.useRef)(null),D=(0,t.useRef)(null),C=(0,l.useRouter)();(0,t.useEffect)(()=>(initializeUser(),loadScannerLibrary(),loadStoredApiKey(),()=>{N&&N.isScanning&&N.stop().catch(console.error)}),[]);let loadStoredApiKey=()=>{let e=localStorage.getItem("openai_api_key");e&&S(e)},initializeUser=async()=>{try{let e=await Object(function(){var e=Error("Cannot find module '@/lib/supabase'");throw e.code="MODULE_NOT_FOUND",e}())();if(!e){C.push("/auth");return}j(e)}catch(e){console.error("Error initializing user:",e),C.push("/auth")}},loadScannerLibrary=async()=>{try{let{Html5QrcodeScanner:e}=await Promise.resolve().then(function(){var e=Error("Cannot find module 'html5-qrcode'");throw e.code="MODULE_NOT_FOUND",e});g(!0)}catch(e){console.error("Error loading scanner library:",e),b("Error al cargar el esc\xe1ner. Por favor, recarga la p\xe1gina.")}},isBarcodeScannedData=e=>e&&"object"==typeof e&&("barcode"in e||"error"in e),startBarcodeScanner=async()=>{if(h&&O.current){n(!0),b("");try{let{Html5QrcodeScanner:e}=await Promise.resolve().then(function(){var e=Error("Cannot find module 'html5-qrcode'");throw e.code="MODULE_NOT_FOUND",e}),s=new e("scanner-container",{fps:10,qrbox:{width:250,height:100},rememberLastUsedCamera:!0,aspectRatio:1},!1);y(s),s.render(async e=>{o(!0),s.clear(),n(!1),await lookupBarcodeInOpenFoodFacts(e)},e=>{console.log("Scanning...",e)})}catch(e){console.error("Error starting barcode scanner:",e),b("No se pudo acceder a la c\xe1mara. Verifica los permisos."),n(!1)}}},lookupBarcodeInOpenFoodFacts=async e=>{try{let s=(await Object(function(){var e=Error("Cannot find module '@/lib/supabase'");throw e.code="MODULE_NOT_FOUND",e}()).auth.getSession()).data.session?.access_token,a=await Object(function(){var e=Error("Cannot find module '@/lib/supabase'");throw e.code="MODULE_NOT_FOUND",e}())("openfoodfacts-lookup",{barcode:e},s);x(a),o(!1)}catch(s){console.error("Error looking up barcode:",s),x({name:"Error al buscar producto",error:!0,message:"No se pudo obtener informaci\xf3n del producto. Intenta de nuevo.",barcode:e}),o(!1)}},stopScanning=()=>{N&&N.isScanning?N.stop().then(()=>{N.clear(),n(!1),y(null)}).catch(console.error):n(!1)},handleImageUpload=async e=>{let s=e.target.files?.[0];if(s&&f){if(!w){_(!0);return}o(!0),b("");try{let e=(await Object(function(){var e=Error("Cannot find module '@/lib/supabase'");throw e.code="MODULE_NOT_FOUND",e}()).auth.getSession()).data.session?.access_token,a=await convertToBase64(s),r=await Object(function(){var e=Error("Cannot find module '@/lib/supabase'");throw e.code="MODULE_NOT_FOUND",e}())("ai-food-detection",{image:a,apiKey:w},e);x(r),o(!1)}catch(e){console.error("Error processing image:",e),b("Error al procesar la imagen. Verifica tu conexi\xf3n y la API key."),o(!1)}}},convertToBase64=e=>new Promise((s,a)=>{let r=new FileReader;r.readAsDataURL(e),r.onload=()=>{let e=r.result,a=e.split(",")[1];s(a)},r.onerror=e=>a(e)}),saveScannedFood=async()=>{if(d&&f)try{let e=(await Object(function(){var e=Error("Cannot find module '@/lib/supabase'");throw e.code="MODULE_NOT_FOUND",e}()).auth.getSession()).data.session?.access_token;if(isBarcodeScannedData(d)){let s={food_name:d.name,brand:d.brand||"",meal_type:m,calories:d.calories||0,protein:d.protein||0,carbs:d.carbs||0,fat:d.fat||0,scan_method:"barcode",date:new Date().toISOString().split("T")[0]};await Object(function(){var e=Error("Cannot find module '@/lib/supabase'");throw e.code="MODULE_NOT_FOUND",e}())("nutrition-tracker",s,e)}else for(let s of d.items){let a={food_name:s.name,brand:"",meal_type:m,calories:s.calories,protein:s.protein,carbs:s.carbs,fat:s.fat,scan_method:"ai_vision",date:new Date().toISOString().split("T")[0]};await Object(function(){var e=Error("Cannot find module '@/lib/supabase'");throw e.code="MODULE_NOT_FOUND",e}())("nutrition-tracker",a,e)}C.push("/nutrition?added=success")}catch(e){console.error("Error saving food:",e),b("Error al guardar el alimento")}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[r.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white/95 backdrop-blur-sm shadow-sm z-10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(i(),{href:"/nutrition",className:"w-8 h-8 flex items-center justify-center",children:r.jsx("i",{className:"ri-arrow-left-line text-gray-600 text-xl"})}),r.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Escanear"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>{s("barcode"),N&&stopScanning()},className:`px-3 py-1 rounded-full text-sm font-medium transition-all ${"barcode"===e?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:"C\xf3digo"}),r.jsx("button",{onClick:()=>{s("ai"),N&&stopScanning()},className:`px-3 py-1 rounded-full text-sm font-medium transition-all ${"ai"===e?"bg-purple-500 text-white":"bg-gray-200 text-gray-600"}`,children:"IA"}),"ai"===e&&r.jsx("button",{onClick:()=>_(!0),className:"w-8 h-8 flex items-center justify-center bg-purple-100 rounded-full",children:r.jsx("i",{className:`ri-key-line text-sm ${w?"text-green-500":"text-gray-400"}`})})]})]})}),(0,r.jsxs)("div",{className:"pt-20 pb-20 px-4",children:[!d&&!a&&!c&&(0,r.jsxs)("div",{className:"text-center mb-8",children:[r.jsx("div",{className:`w-20 h-20 mx-auto mb-4 rounded-2xl flex items-center justify-center ${"barcode"===e?"bg-blue-100":"bg-purple-100"}`,children:r.jsx("i",{className:`text-3xl ${"barcode"===e?"ri-qr-code-line text-blue-500":"ri-camera-ai-line text-purple-500"}`})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"barcode"===e?"Esc\xe1ner de C\xf3digo de Barras":"Detecci\xf3n IA de Alimentos"}),r.jsx("p",{className:"text-gray-600",children:"barcode"===e?"Escanea un c\xf3digo de barras":"IA avanzada con GPT-4 Vision"}),r.jsx("p",{className:"text-sm text-gray-500",children:"barcode"===e?"Informaci\xf3n nutricional de OpenFoodFacts":"Detecci\xf3n autom\xe1tica de m\xfaltiples alimentos"}),!h&&"barcode"===e&&r.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"Cargando esc\xe1ner..."}),"ai"===e&&!w&&(0,r.jsxs)("div",{className:"mt-4 p-3 bg-orange-50 border border-orange-200 rounded-xl",children:[r.jsx("p",{className:"text-sm text-orange-700 font-medium",children:"⚠️ API Key requerida"}),r.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Necesitas una API key de OpenAI para usar la detecci\xf3n IA"})]})]}),a&&"barcode"===e&&(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("div",{id:"scanner-container",ref:O,className:"w-full max-w-md mx-auto"}),r.jsx("div",{className:"text-center mt-4",children:r.jsx("button",{onClick:stopScanning,className:"bg-red-500 text-white px-6 py-2 rounded-xl font-medium",children:"Detener Esc\xe1ner"})})]}),!d&&!a&&!c&&r.jsx("div",{className:"space-y-4",children:"barcode"===e?(0,r.jsxs)("button",{onClick:startBarcodeScanner,disabled:!h,className:`w-full py-4 rounded-xl font-semibold ${h?"bg-gradient-to-r from-blue-500 to-blue-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[r.jsx("i",{className:"ri-camera-line mr-2"}),h?"Iniciar Esc\xe1ner de C\xe1mara":"Cargando..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{onClick:()=>D.current?.click(),disabled:!w,className:`w-full py-4 rounded-xl font-semibold ${w?"bg-gradient-to-r from-purple-500 to-purple-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[r.jsx("i",{className:"ri-camera-line mr-2"}),"Tomar Foto con IA"]}),(0,r.jsxs)("button",{onClick:()=>D.current?.click(),disabled:!w,className:`w-full py-4 rounded-xl font-semibold ${w?"border-2 border-purple-300 text-purple-600":"border-2 border-gray-300 text-gray-500 cursor-not-allowed"}`,children:[r.jsx("i",{className:"ri-image-line mr-2"}),"Subir desde Galer\xeda"]})]})}),c&&(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:`w-64 h-64 mx-auto mb-6 rounded-2xl border-4 border-dashed relative overflow-hidden ${"barcode"===e?"border-blue-300 bg-blue-50":"border-purple-300 bg-purple-50"}`,children:r.jsx("div",{className:"flex items-center justify-center h-full",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full border-4 border-t-transparent animate-spin ${"barcode"===e?"border-blue-500":"border-purple-500"}`}),r.jsx("p",{className:`font-medium ${"barcode"===e?"text-blue-600":"text-purple-600"}`,children:"barcode"===e?"Consultando OpenFoodFacts...":"Analizando con GPT-4 Vision..."})]})})}),p&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-4",children:r.jsx("p",{className:"text-red-600 text-sm",children:p})}),r.jsx("p",{className:"text-gray-600 font-medium",children:"barcode"===e?"Obteniendo informaci\xf3n nutricional...":"Procesando imagen con IA..."})]}),d&&(0,r.jsxs)("div",{className:"space-y-4",children:[!isBarcodeScannedData(d)||!d.error&&(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de comida:"}),r.jsx("div",{className:"flex gap-2",children:["desayuno","almuerzo","cena","snacks"].map(e=>r.jsx("button",{type:"button",onClick:()=>u(e),className:`px-3 py-1 rounded-lg border text-sm font-medium transition-all ${m===e?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300"}`,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,r.jsxs)("div",{className:`border rounded-xl p-4 ${isBarcodeScannedData(d)&&d.error?"bg-red-50 border-red-200":isBarcodeScannedData(d)?"bg-green-50 border-green-200":"bg-purple-50 border-purple-200"}`,children:[(0,r.jsxs)("div",{className:"flex items-start space-x-3 mb-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${isBarcodeScannedData(d)&&d.error?"bg-red-100":isBarcodeScannedData(d)?"bg-green-100":"bg-purple-100"}`,children:r.jsx("i",{className:`text-lg ${isBarcodeScannedData(d)&&d.error?"ri-close-line text-red-500":isBarcodeScannedData(d)?"ri-check-line text-green-500":"ri-camera-ai-line text-purple-500"}`})}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h3",{className:`font-semibold ${isBarcodeScannedData(d)&&d.error?"text-red-800":isBarcodeScannedData(d)?"text-green-800":"text-purple-800"}`,children:d.name}),isBarcodeScannedData(d)&&d.brand&&r.jsx("p",{className:`text-sm ${d.error?"text-red-600":"text-green-600"}`,children:d.brand}),isBarcodeScannedData(d)&&d.barcode&&(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["C\xf3digo: ",d.barcode]}),isBarcodeScannedData(d)&&d.error&&d.message&&r.jsx("p",{className:"text-sm text-red-600 mt-2",children:d.message})]}),isBarcodeScannedData(d)&&d.image_url&&r.jsx("img",{src:d.image_url,alt:d.name,className:"w-12 h-12 rounded-lg object-cover",onError:e=>{e.currentTarget.style.display="none"}})]}),!isBarcodeScannedData(d)&&"items"in d&&(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("p",{className:"font-medium text-gray-800 mb-3",children:"Alimentos detectados por IA:"}),r.jsx("div",{className:"space-y-2",children:d.items.map((e,s)=>(0,r.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-purple-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),r.jsx("span",{className:"font-medium text-gray-800",children:e.name})]}),(0,r.jsxs)("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full",children:[Math.round(100*e.confidence),"% confianza"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"font-bold text-gray-800",children:e.calories}),r.jsx("div",{className:"text-gray-500",children:"kcal"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"font-bold text-blue-500",children:[e.protein,"g"]}),r.jsx("div",{className:"text-gray-500",children:"Prote\xedna"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"font-bold text-green-500",children:[e.carbs,"g"]}),r.jsx("div",{className:"text-gray-500",children:"Carbohidratos"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"font-bold text-yellow-500",children:[e.fat,"g"]}),r.jsx("div",{className:"text-gray-500",children:"Grasas"})]})]})]},s))})]}),!(isBarcodeScannedData(d)&&d.error)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-3 mb-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-bold text-gray-800",children:isBarcodeScannedData(d)?d.calories:d.totalCalories}),r.jsx("div",{className:"text-xs text-gray-500",children:"kcal"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-lg font-bold text-blue-500",children:[d.protein||0,"g"]}),r.jsx("div",{className:"text-xs text-gray-500",children:"Prote\xedna"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-lg font-bold text-green-500",children:[d.carbs||0,"g"]}),r.jsx("div",{className:"text-xs text-gray-500",children:"Carbohidratos"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-lg font-bold text-yellow-500",children:[d.fat||0,"g"]}),r.jsx("div",{className:"text-xs text-gray-500",children:"Grasas"})]})]}),isBarcodeScannedData(d)&&!d.error&&(0,r.jsxs)(r.Fragment,{children:[(d.fiber&&d.fiber>0||d.sugar&&d.sugar>0||d.sodium&&d.sodium>0)&&(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-4 pt-3 border-t border-gray-200",children:[d.fiber&&d.fiber>0&&(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-sm font-bold text-green-600",children:[d.fiber,"g"]}),r.jsx("div",{className:"text-xs text-gray-500",children:"Fibra"})]}),d.sugar&&d.sugar>0&&(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-sm font-bold text-red-500",children:[d.sugar,"g"]}),r.jsx("div",{className:"text-xs text-gray-500",children:"Az\xfacar"})]}),d.sodium&&d.sodium>0&&(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-sm font-bold text-purple-500",children:[d.sodium,"g"]}),r.jsx("div",{className:"text-xs text-gray-500",children:"Sodio"})]})]}),d.ingredients&&(0,r.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"Ingredientes:"}),r.jsx("p",{className:"text-xs text-gray-600",children:d.ingredients})]})]})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:()=>{x(null),b("")},className:"flex-1 border border-gray-300 text-gray-700 py-3 rounded-xl font-medium",children:"Escanear Otro"}),!(isBarcodeScannedData(d)&&d.error)&&r.jsx("button",{onClick:saveScannedFood,className:"flex-1 bg-green-500 text-white py-3 rounded-xl font-medium",children:"Agregar a Diario"})]})]})]}),v&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Configurar OpenAI API"}),r.jsx("button",{onClick:()=>_(!1),className:"w-8 h-8 flex items-center justify-center bg-gray-100 rounded-full",children:r.jsx("i",{className:"ri-close-line text-gray-600"})})]}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Para usar la detecci\xf3n IA necesitas una API key de OpenAI:"}),(0,r.jsxs)("ol",{className:"text-xs text-gray-500 space-y-1 mb-4",children:[(0,r.jsxs)("li",{children:["1. Visita ",r.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded",children:"platform.openai.com"})]}),r.jsx("li",{children:"2. Crea una cuenta o inicia sesi\xf3n"}),r.jsx("li",{children:"3. Ve a API Keys y crea una nueva"}),r.jsx("li",{children:"4. Copia y pega la key aqu\xed"})]}),r.jsx("input",{type:"password",value:w,onChange:e=>S(e.target.value),placeholder:"sk-...",className:"w-full p-3 border border-gray-300 rounded-xl text-sm font-mono"})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:()=>_(!1),className:"flex-1 border border-gray-300 text-gray-700 py-3 rounded-xl font-medium",children:"Cancelar"}),r.jsx("button",{onClick:()=>{w.trim()&&(localStorage.setItem("openai_api_key",w.trim()),_(!1))},disabled:!w.trim(),className:"flex-1 bg-purple-500 text-white py-3 rounded-xl font-medium disabled:bg-gray-300",children:"Guardar"})]}),r.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-xl",children:(0,r.jsxs)("p",{className:"text-xs text-blue-700",children:[r.jsx("i",{className:"ri-shield-check-line mr-1"}),"Tu API key se guarda localmente en tu dispositivo y nunca se comparte."]})})]})}),r.jsx("input",{ref:D,type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:handleImageUpload}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 mt-8",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Tecnolog\xedas Integradas"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("i",{className:"ri-database-2-line text-blue-500 text-sm"})}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-medium text-blue-800",children:"OpenFoodFacts"}),r.jsx("p",{className:"text-sm text-blue-600",children:"M\xe1s de 2 millones de productos"})]})]}),r.jsx("p",{className:"text-xs text-blue-700",children:"Base de datos colaborativa mundial de productos alimentarios con informaci\xf3n nutricional completa."})]}),(0,r.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx("i",{className:"ri-camera-ai-line text-purple-500 text-sm"})}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-medium text-purple-800",children:"GPT-4 Vision"}),r.jsx("p",{className:"text-sm text-purple-600",children:"IA avanzada para im\xe1genes"})]})]}),r.jsx("p",{className:"text-xs text-purple-700",children:"Tecnolog\xeda de visi\xf3n por computadora que identifica autom\xe1ticamente m\xfaltiples alimentos en una imagen con alta precisi\xf3n."}),(0,r.jsxs)("div",{className:"mt-2 flex items-center space-x-2",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${w?"bg-green-500":"bg-gray-400"}`}),r.jsx("span",{className:"text-xs text-purple-700",children:w?"Configurado y listo":"Requiere configuraci\xf3n"})]})]})]})]})]}),r.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200",children:(0,r.jsxs)("div",{className:"grid grid-cols-5 py-2",children:[(0,r.jsxs)(i(),{href:"/",className:"flex flex-col items-center justify-center py-2",children:[r.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:r.jsx("i",{className:"ri-home-line text-gray-400 text-lg"})}),r.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Inicio"})]}),(0,r.jsxs)(i(),{href:"/nutrition",className:"flex flex-col items-center justify-center py-2",children:[r.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:r.jsx("i",{className:"ri-restaurant-line text-gray-400 text-lg"})}),r.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Comida"})]}),r.jsx(i(),{href:"/scan",className:"flex flex-col items-center justify-center py-2",children:r.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsx("i",{className:"ri-qr-scan-2-line text-white text-lg"})})}),(0,r.jsxs)(i(),{href:"/reports",className:"flex flex-col items-center justify-center py-2",children:[r.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:r.jsx("i",{className:"ri-bar-chart-line text-gray-400 text-lg"})}),r.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Reportes"})]}),(0,r.jsxs)(i(),{href:"/profile",className:"flex flex-col items-center justify-center py-2",children:[r.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:r.jsx("i",{className:"ri-user-line text-gray-400 text-lg"})}),r.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Perfil"})]})]})})]})}},89861:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>i,__esModule:()=>n,default:()=>c});var r=a(95153);let t=(0,r.createProxy)(String.raw`C:\Users\biges\OneDrive\Escritorio\profitnessapp\app\app\scan\page.tsx`),{__esModule:n,$$typeof:i}=t,l=t.default,c=l},57114:(e,s,a)=>{e.exports=a(4979)}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[621,825,539],()=>__webpack_exec__(64746));module.exports=a})();