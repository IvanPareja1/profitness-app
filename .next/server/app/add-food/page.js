(()=>{var e={};e.id=414,e.ids=[414],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},7310:e=>{"use strict";e.exports=require("url")},4824:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>l,routeModule:()=>g,tree:()=>d});var r=a(7096),o=a(6132),s=a(7284),n=a.n(s),i=a(2564),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);a.d(t,c);let d=["",{children:["add-food",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,2554)),"C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\add-food\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,7741)),"C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,4293)),"C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\not-found.tsx"]}],l=["C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\add-food\\page.tsx"],p="/add-food/page",u={require:a,loadChunk:()=>Promise.resolve()},g=new r.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/add-food/page",pathname:"/add-food",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7207:(e,t,a)=>{Promise.resolve().then(a.bind(a,5934))},5934:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>AddFood});var r=a(784),o=a(3745),s=a.n(o),n=a(1440),i=a.n(n),c=a(9885),d=a(7114),l=a(533),p=a(5891);let UltraBarcodeScannerPro=class UltraBarcodeScannerPro{constructor(e){this.animationId=null,this.isScanning=!1,this.barcodeDetector=null,this.zxingReader=null,this.lastDetection=0,this.detectionCooldown=1200,this.useZXing=!1,this.continuous=!0,this.consecutiveDetections=new Map,this.requiredConsecutive=2,this.detectionHistory=new Map,this.maxHistorySize=20,this.performanceStats={totalScans:0,successfulScans:0,averageProcessingTime:0,lastProcessingTime:0},this.resultCache=new Map,this.cacheTimeout=2e3,this.video=e.video,this.onDetected=e.onDetected,this.onError=e.onError,this.continuous=e.continuous??!0,this.scanArea=e.scanArea,this.supportedFormats=e.formats||["code_128","code_39","code_93","code_11","ean_13","ean_8","ean_5","ean_2","upc_a","upc_e","upc_ean_extension","codabar","itf","rss_14","rss_expanded","qr_code","data_matrix","aztec","pdf_417","maxicode"],this.canvas=document.createElement("canvas");let t=this.canvas.getContext("2d");if(!t)throw Error("No se pudo crear contexto del canvas");this.context=t}async init(){try{if("BarcodeDetector"in window)try{let e=await window.BarcodeDetector.getSupportedFormats();console.log(" Formatos soportados por BarcodeDetector:",e),this.barcodeDetector=new window.BarcodeDetector({formats:this.supportedFormats.filter(t=>e.includes(t))}),console.log(" BarcodeDetector inicializado correctamente"),this.useZXing=!1;return}catch(e){console.warn(" Error inicializando BarcodeDetector:",e)}console.log(" BarcodeDetector no disponible, inicializando ZXing..."),await this.initZXingAdvanced()}catch(e){throw console.error(" Error cr\xedtico inicializando scanner:",e),e}}async initZXingAdvanced(){try{let e=window.ZXing;if(!e)throw Error("No se pudo cargar ZXing desde ning\xfan CDN");this.zxingReader=new e.BrowserMultiFormatReader;let t=new Map,a=[e.BarcodeFormat.EAN_13,e.BarcodeFormat.EAN_8,e.BarcodeFormat.UPC_A,e.BarcodeFormat.UPC_E,e.BarcodeFormat.CODE_128,e.BarcodeFormat.CODE_39,e.BarcodeFormat.QR_CODE].filter(e=>void 0!==e);t.set(e.DecodeHintType.POSSIBLE_FORMATS,a),t.set(e.DecodeHintType.TRY_HARDER,!0),t.set(e.DecodeHintType.ALSO_INVERTED,!0),t.set(e.DecodeHintType.ASSUME_CODE_39_CHECK_DIGIT,!1),t.set(e.DecodeHintType.ASSUME_GS1,!1),e.DecodeHintType.RETURN_CODABAR_START_END&&t.set(e.DecodeHintType.RETURN_CODABAR_START_END,!0),this.zxingReader.hints=t,console.log(" ZXing inicializado con configuraci\xf3n avanzada"),this.useZXing=!0}catch(e){throw console.error(" Error cr\xedtico inicializando ZXing:",e),e}}loadZXingScriptAdvanced(){return new Promise((e,t)=>{let a=["https://unpkg.com/@zxing/library@0.20.0/umd/index.min.js","https://cdn.jsdelivr.net/npm/@zxing/library@0.20.0/umd/index.min.js","https://unpkg.com/@zxing/library@0.19.1/umd/index.min.js","https://cdn.jsdelivr.net/npm/@zxing/library@0.19.1/umd/index.min.js"],r=0,tryLoadScript=()=>{if(r>=a.length){t(Error(" No se pudo cargar ZXing desde ning\xfan CDN disponible"));return}let o=document.createElement("script"),s=setTimeout(()=>{o.remove(),console.warn(` Timeout cargando ZXing desde: ${a[r]}`),r++,tryLoadScript()},8e3);o.src=a[r],o.async=!0,o.defer=!0,o.onload=()=>{clearTimeout(s),console.log(` ZXing cargado exitosamente desde: ${a[r]}`),e()},o.onerror=()=>{clearTimeout(s),o.remove(),console.warn(` Error cargando ZXing desde: ${a[r]}`),r++,tryLoadScript()},document.head.appendChild(o)};tryLoadScript()})}start(){if(this.isScanning){console.log(" Scanner ya est\xe1 en funcionamiento");return}this.isScanning=!0,this.lastDetection=0,this.consecutiveDetections.clear(),this.detectionHistory.clear(),this.performanceStats.totalScans=0,this.performanceStats.successfulScans=0,console.log(` Iniciando scanner con m\xe9todo: ${this.useZXing?"ZXing":"BarcodeDetector"}`),this.useZXing?this.startZXingScanningAdvanced():this.startBarcodeDetectorScanning()}stop(){if(this.isScanning){if(this.isScanning=!1,this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null),this.zxingReader)try{this.zxingReader.reset()}catch(e){console.warn(" Error al detener ZXing reader:",e)}this.consecutiveDetections.clear(),this.resultCache.clear(),console.log(` Scanner detenido. Stats: ${this.performanceStats.successfulScans}/${this.performanceStats.totalScans} exitosos`)}}startBarcodeDetectorScanning(){let scanLoop=()=>{this.isScanning&&this.scanFrameWithBarcodeDetector().then(()=>{this.isScanning&&this.continuous&&(this.animationId=requestAnimationFrame(scanLoop))}).catch(e=>{this.onError&&this.onError(e),this.isScanning&&this.continuous&&(this.animationId=requestAnimationFrame(scanLoop))})};scanLoop()}startZXingScanningAdvanced(){let scanWithZXing=()=>{if(!this.isScanning)return;let e=performance.now();try{let t=this.preprocessFrameAdvanced();if(!t){setTimeout(scanWithZXing,50);return}let a=Date.now();if(a-this.lastDetection<this.detectionCooldown){setTimeout(scanWithZXing,30);return}this.performanceStats.totalScans++;let r=this.createFrameHash(t),o=this.resultCache.get(r);if(o&&a-o.timestamp<this.cacheTimeout){this.processDetection(o),this.continuous&&setTimeout(scanWithZXing,100);return}this.zxingReader.decodeFromCanvas(this.canvas).then(t=>{let o=performance.now()-e;if(this.updatePerformanceStats(o),t&&this.isValidBarcodeValue(t.text)){let e={code:t.text,format:this.mapZXingFormat(t.format)||"unknown",confidence:this.calculateZXingConfidence(t),timestamp:a,location:this.extractBarcodeLocation(t)};this.resultCache.set(r,e),this.processDetection(e),this.performanceStats.successfulScans++}this.continuous&&setTimeout(scanWithZXing,50)}).catch(t=>{let a=performance.now()-e;this.updatePerformanceStats(a),this.continuous&&setTimeout(scanWithZXing,80)})}catch(e){this.onError&&this.onError(e),this.continuous&&setTimeout(scanWithZXing,100)}};scanWithZXing()}async scanFrameWithBarcodeDetector(){let e=performance.now(),t=this.preprocessFrameAdvanced();if(!t)return;let a=Date.now();if(!(a-this.lastDetection<this.detectionCooldown))try{this.performanceStats.totalScans++;let r=this.createFrameHash(t),o=this.resultCache.get(r);if(o&&a-o.timestamp<this.cacheTimeout){this.processDetection(o);return}if(this.barcodeDetector){let t=await this.barcodeDetector.detect(this.canvas),o=performance.now()-e;for(let e of(this.updatePerformanceStats(o),t))if(this.isValidBarcodeValue(e.rawValue)){let t={code:e.rawValue,format:e.format,confidence:this.calculateBarcodeDetectorConfidence(e),timestamp:a,location:this.extractBarcodeDetectorLocation(e)};this.resultCache.set(r,t),this.processDetection(t),this.performanceStats.successfulScans++;break}}}catch(a){let t=performance.now()-e;if(this.updatePerformanceStats(t),this.useZXing)throw a;console.log(" Error con BarcodeDetector, cambiando a ZXing...");try{await this.initZXingAdvanced(),this.stop(),this.start()}catch(e){throw a}}}preprocessFrameAdvanced(){let e,t,a,r;if(!this.video||this.video.readyState!==this.video.HAVE_ENOUGH_DATA)return null;let o=this.video.videoWidth,s=this.video.videoHeight;this.scanArea?(a=Math.floor(this.scanArea.x*o),r=Math.floor(this.scanArea.y*s),e=Math.floor(this.scanArea.width*o),t=Math.floor(this.scanArea.height*s)):(e=Math.floor(.8*o),t=Math.floor(.8*s),a=Math.floor((o-e)/2),r=Math.floor((s-t)/2)),this.canvas.width=e,this.canvas.height=t,this.context.drawImage(this.video,a,r,e,t,0,0,e,t);let n=this.context.getImageData(0,0,e,t),i=this.enhanceImageForBarcodeDetection(n);return this.context.putImageData(i,0,0),i}enhanceImageForBarcodeDetection(e){let t=e.data,a=e.width,r=e.height,o=new Uint8ClampedArray(t);for(let e=0;e<t.length;e+=4){let a=Math.round(.299*t[e]+.587*t[e+1]+.114*t[e+2]),r=a>128?255:0,s=255===r?255:Math.max(0,r-20);o[e]=s,o[e+1]=s,o[e+2]=s}return new ImageData(o,a,r)}createFrameHash(e){let t=e.data,a=0,r=Math.min(1e3,t.length),o=Math.floor(t.length/r);for(let e=0;e<t.length;e+=o)a=(a<<5)-a+t[e]&4294967295;return Math.abs(a).toString(16)}updatePerformanceStats(e){this.performanceStats.lastProcessingTime=e,this.performanceStats.averageProcessingTime=(this.performanceStats.averageProcessingTime*(this.performanceStats.totalScans-1)+e)/this.performanceStats.totalScans}calculateZXingConfidence(e){let t=.85,a={EAN_13:.95,EAN_8:.92,UPC_A:.95,UPC_E:.9,CODE_128:.88,CODE_39:.85,QR_CODE:.93},r=e.format?.toString();r&&a[r]&&(t*=a[r]);let o=e.text?.length||0;return o>=8&&o<=14&&(t*=1.05),this.performanceStats.lastProcessingTime>200&&(t*=.95),Math.min(t,.98)}calculateBarcodeDetectorConfidence(e){let t;if(t=.9*(({ean_13:.98,ean_8:.95,upc_a:.98,upc_e:.94,code_128:.9,code_39:.87,qr_code:.95})[e.format]||.8),e.boundingBox){let a=e.boundingBox.width*e.boundingBox.height,r=this.canvas.width*this.canvas.height,o=a/r;o>.15?t*=1.1:o<.02&&(t*=.85)}let a=e.rawValue;return this.detectionHistory.has(a)&&(t*=1.08),Math.min(t,.98)}extractBarcodeLocation(e){if(e.resultPoints&&e.resultPoints.length>=2){let t=e.resultPoints,a=Math.min(...t.map(e=>e.x||0)),r=Math.max(...t.map(e=>e.x||0)),o=Math.min(...t.map(e=>e.y||0)),s=Math.max(...t.map(e=>e.y||0));return{x:a,y:o,width:r-a,height:s-o}}}extractBarcodeDetectorLocation(e){if(e.boundingBox)return{x:e.boundingBox.x,y:e.boundingBox.y,width:e.boundingBox.width,height:e.boundingBox.height}}processDetection(e){let t=e.code,a=this.consecutiveDetections.get(t)||0;for(let[e,r]of(this.consecutiveDetections.set(t,a+1),this.consecutiveDetections.entries()))if(e!==t){let t=Math.max(0,r-.5);t<=0?this.consecutiveDetections.delete(e):this.consecutiveDetections.set(e,t)}if(a>=this.requiredConsecutive){if(this.lastDetection=Date.now(),this.detectionHistory.set(t,Date.now()),this.detectionHistory.size>this.maxHistorySize){let e=Array.from(this.detectionHistory.entries());e.sort((e,t)=>e[1]-t[1]),e.slice(0,5).forEach(([e])=>this.detectionHistory.delete(e))}console.log(` C\xf3digo confirmado: ${t} (${e.format}) - Confianza: ${(e.confidence||0).toFixed(2)}`);let a={...e,confidence:e.confidence||.9,scanStats:{totalScans:this.performanceStats.totalScans,successRate:this.performanceStats.successfulScans/this.performanceStats.totalScans,avgProcessingTime:Math.round(this.performanceStats.averageProcessingTime)}};this.onDetected(a),this.consecutiveDetections.clear(),this.continuous||this.stop()}}getMethod(){return this.useZXing?"ZXing Pro":"BarcodeDetector Native"}getDetectionHistory(){return Array.from(this.detectionHistory.entries()).map(([e,t])=>({code:e,timestamp:t}))}getPerformanceStats(){return{...this.performanceStats}}getCurrentStats(){return{method:this.getMethod(),scanning:this.isScanning,lastDetection:this.lastDetection,detectionCount:this.detectionHistory.size,performance:this.getPerformanceStats(),cacheSize:this.resultCache.size}}updateConfiguration(e){void 0!==e.detectionCooldown&&(this.detectionCooldown=e.detectionCooldown),void 0!==e.requiredConsecutive&&(this.requiredConsecutive=e.requiredConsecutive),void 0!==e.scanArea&&(this.scanArea=e.scanArea),console.log(" Configuraci\xf3n actualizada:",e)}clearCache(){this.resultCache.clear(),this.detectionHistory.clear(),this.consecutiveDetections.clear(),console.log(" Cache limpiado")}isValidBarcodeValue(e){if(!e||e.length<6||e.length>18)return!1;let t=(e.match(/\d/g)||[]).length/e.length;if(t<.65)return!1;let a=[/^\d{8}$/,/^\d{12}$/,/^\d{13}$/,/^\d{14}$/].some(t=>t.test(e));return!!a||e.length>=6&&e.length<=18&&t>=.8}mapZXingFormat(e){return({EAN_13:"ean_13",EAN_8:"ean_8",UPC_A:"upc_a",UPC_E:"upc_e",CODE_128:"code_128",CODE_39:"code_39",CODE_93:"code_93",QR_CODE:"qr_code",DATA_MATRIX:"data_matrix",AZTEC:"aztec",PDF_417:"pdf_417"})[e?.toString()]||"unknown"}};async function initializeBarcodeScanner(e,t,a,r){let o=new UltraBarcodeScannerPro({video:e,onDetected:t,onError:a,continuous:r?.continuous??!0,formats:r?.formats,scanArea:r?.scanArea});return await o.init(),o.start(),o}let u=new Map;async function getProductByBarcode(e){if(!isValidBarcode(e))throw Error("C\xf3digo de barras inv\xe1lido");let t=u.get(e);if(t&&Date.now()-t.timestamp<6e5)return console.log(" Producto obtenido del cache:",e),t.data;try{console.log(" Buscando producto con c\xf3digo:",e);let t=[{name:"OpenFoodFacts",url:`https://world.openfoodfacts.org/api/v0/product/${e}.json`,parser:parseOpenFoodFactsResponseAdvanced,timeout:8e3},{name:"UPCDatabase",url:`https://api.upcitemdb.com/prod/trial/lookup?upc=${e}`,parser:parseUPCDatabaseResponseAdvanced,timeout:6e3},{name:"Barcode Lookup",url:`https://api.barcodelookup.com/v3/products?barcode=${e}&formatted=y&key=demo`,parser:parseBarcodeLookupResponse,timeout:5e3}],a=t.map(async t=>{let a=new AbortController,r=setTimeout(()=>a.abort(),t.timeout);try{let o=await fetch(t.url,{headers:{Accept:"application/json","User-Agent":"ProFitnessApp/1.0 (Nutrition Tracker)","Cache-Control":"no-cache"},signal:a.signal});if(clearTimeout(r),!o.ok)throw Error(`${t.name} API Error: ${o.status}`);let s=await o.json(),n=t.parser(s,e);if(n)return console.log(` Producto encontrado en ${t.name}:`,n.product_name),{product:n,source:t.name};return null}catch(e){return clearTimeout(r),console.warn(` Error con ${t.name}:`,e),null}}),r=await Promise.allSettled(a),o=r.filter(e=>"fulfilled"===e.status&&null!==e.value).map(e=>e.value);if(o.length>0){let t=o[0];return u.set(e,{data:t.product,timestamp:Date.now()}),t.product}console.log(" Creando producto gen\xe9rico para:",e);let s=createAdvancedGenericProduct(e);return u.set(e,{data:s,timestamp:Date.now()}),s}catch(e){throw console.error(" Error cr\xedtico obteniendo producto:",e),e}}function parseOpenFoodFactsResponseAdvanced(e,t){if(1===e.status&&e.product){let a=e.product;return{product_name:a.product_name||a.product_name_es||a.product_name_en||`Producto ${t}`,brands:a.brands||a.brand_owner||"Marca desconocida",quantity:a.quantity||"",image_url:a.image_front_url||a.image_url||generateEnhancedProductImage(t,a.product_name),nutriments:{"energy-kcal_100g":Math.round(a.nutriments?.["energy-kcal_100g"]||a.nutriments?.["energy-kcal"]||a.nutriments?.energy_100g/4.184||0),proteins_100g:Math.round(10*(a.nutriments?.proteins_100g||a.nutriments?.proteins||0))/10,carbohydrates_100g:Math.round(10*(a.nutriments?.carbohydrates_100g||a.nutriments?.carbohydrates||0))/10,fat_100g:Math.round(10*(a.nutriments?.fat_100g||a.nutriments?.fat||0))/10,fiber_100g:Math.round(10*(a.nutriments?.fiber_100g||a.nutriments?.fiber||0))/10,sugars_100g:Math.round(10*(a.nutriments?.sugars_100g||a.nutriments?.sugars||0))/10,salt_100g:Math.round(100*(a.nutriments?.salt_100g||a.nutriments?.salt||a.nutriments?.sodium_100g*2.54||0))/100},categories:a.categories||a.categories_tags?.join(", ")||"",ingredients_text:a.ingredients_text||a.ingredients_text_es||a.ingredients_text_en||"",nutrition_score:a.nutrition_grades||a.nutriscore_grade||"",eco_score:a.ecoscore_grade||"",labels:a.labels||a.labels_tags?.join(", ")||"",allergens:a.allergens||a.allergens_tags?.join(", ")||"",source:"OpenFoodFacts Enhanced"}}return null}function parseUPCDatabaseResponseAdvanced(e,t){if("OK"===e.code&&e.items&&e.items.length>0){let a=e.items[0];return{product_name:a.title||a.description||`Producto ${t}`,brands:a.brand||a.manufacturer||"Marca desconocida",quantity:a.size||"",image_url:a.images&&a.images.length>0?a.images[0]:generateEnhancedProductImage(t,a.title),nutriments:estimateNutritionFromCategory(a.category,a.title),categories:a.category||"",ingredients_text:a.description||"Informaci\xf3n no disponible",source:"UPCDatabase Enhanced"}}return null}function parseBarcodeLookupResponse(e,t){if(e.products&&e.products.length>0){let a=e.products[0];return{product_name:a.product_name||a.title||`Producto ${t}`,brands:a.brand||a.manufacturer||"Marca desconocida",quantity:a.size||"",image_url:a.images&&a.images.length>0?a.images[0]:generateEnhancedProductImage(t,a.product_name),nutriments:estimateNutritionFromCategory(a.category,a.product_name),categories:a.category||"",ingredients_text:a.description||"Informaci\xf3n no disponible",source:"Barcode Lookup"}}return null}function estimateNutritionFromCategory(e,t){let a=(e||"").toLowerCase(),r=(t||"").toLowerCase();for(let[e,t]of Object.entries({beverages:{calories:45,proteins:.2,carbohydrates:11,fat:.1,fiber:0,sugars:10,salt:.01},soda:{calories:150,proteins:0,carbohydrates:39,fat:0,fiber:0,sugars:39,salt:.02},juice:{calories:55,proteins:.5,carbohydrates:13,fat:.1,fiber:.2,sugars:12,salt:.001},dairy:{calories:85,proteins:6,carbohydrates:6,fat:4.5,fiber:0,sugars:6,salt:.12},milk:{calories:61,proteins:3.2,carbohydrates:4.8,fat:3.3,fiber:0,sugars:4.8,salt:.04},cheese:{calories:350,proteins:25,carbohydrates:3,fat:28,fiber:0,sugars:1,salt:1.5},yogurt:{calories:85,proteins:8,carbohydrates:12,fat:2.5,fiber:0,sugars:10,salt:.08},meat:{calories:250,proteins:26,carbohydrates:0,fat:15,fiber:0,sugars:0,salt:.8},chicken:{calories:165,proteins:31,carbohydrates:0,fat:3.6,fiber:0,sugars:0,salt:.7},fish:{calories:200,proteins:25,carbohydrates:0,fat:10,fiber:0,sugars:0,salt:.6},cereal:{calories:380,proteins:12,carbohydrates:70,fat:6,fiber:8,sugars:8,salt:.8},bread:{calories:265,proteins:9,carbohydrates:49,fat:3.2,fiber:2.7,sugars:5,salt:1.2},pasta:{calories:350,proteins:13,carbohydrates:70,fat:1.5,fiber:3,sugars:2,salt:.01},fruit:{calories:60,proteins:1,carbohydrates:15,fat:.3,fiber:3,sugars:12,salt:.001},vegetable:{calories:25,proteins:2.5,carbohydrates:5,fat:.2,fiber:3,sugars:3,salt:.01},snack:{calories:450,proteins:8,carbohydrates:55,fat:22,fiber:3,sugars:8,salt:1.2},candy:{calories:400,proteins:2,carbohydrates:85,fat:8,fiber:1,sugars:80,salt:.1},chocolate:{calories:535,proteins:8,carbohydrates:60,fat:30,fiber:7,sugars:55,salt:.02}}))if(a.includes(e)||r.includes(e))return{"energy-kcal_100g":t.calories,proteins_100g:t.proteins,carbohydrates_100g:t.carbohydrates,fat_100g:t.fat,fiber_100g:t.fiber,sugars_100g:t.sugars,salt_100g:t.salt};return{"energy-kcal_100g":150,proteins_100g:5,carbohydrates_100g:20,fat_100g:5,fiber_100g:2,sugars_100g:8,salt_100g:.5}}function createAdvancedGenericProduct(e){let t=getBarcodeCountryInfo(e);return{product_name:`Producto ${e}`,brands:t.country?`Producto de ${t.country}`:"Marca desconocida",quantity:"",image_url:generateEnhancedProductImage(e,`Producto ${e}`),nutriments:{"energy-kcal_100g":150,proteins_100g:5,carbohydrates_100g:20,fat_100g:5,fiber_100g:2,sugars_100g:8,salt_100g:.5},categories:"Producto alimenticio",ingredients_text:"Informaci\xf3n no disponible. Escaneo exitoso pero producto no encontrado en bases de datos.",barcode_info:t,source:"Generic Enhanced",note:"Producto gen\xe9rico. Puedes editar la informaci\xf3n nutricional manualmente."}}function getBarcodeCountryInfo(e){if(e.length<3)return{country:"Desconocido",region:"Desconocido"};let t=e.substring(0,3);for(let[e,a]of Object.entries({"000":{country:"Estados Unidos",region:"Am\xe9rica del Norte"},"001":{country:"Estados Unidos",region:"Am\xe9rica del Norte"},"020":{country:"Reino Unido",region:"Europa"},"050":{country:"Reino Unido",region:"Europa"},"070":{country:"Noruega",region:"Europa"},100:{country:"Estados Unidos",region:"Am\xe9rica del Norte"},380:{country:"Bulgaria",region:"Europa"},400:{country:"Alemania",region:"Europa"},450:{country:"Jap\xf3n",region:"Asia"},460:{country:"Rusia",region:"Europa/Asia"},500:{country:"Reino Unido",region:"Europa"},520:{country:"Grecia",region:"Europa"},560:{country:"Portugal",region:"Europa"},590:{country:"Polonia",region:"Europa"},690:{country:"China",region:"Asia"},750:{country:"M\xe9xico",region:"Am\xe9rica del Norte"},770:{country:"Colombia",region:"Am\xe9rica del Sur"},773:{country:"Uruguay",region:"Am\xe9rica del Sur"},775:{country:"Per\xfa",region:"Am\xe9rica del Sur"},778:{country:"Argentina",region:"Am\xe9rica del Sur"},780:{country:"Chile",region:"Am\xe9rica del Sur"},789:{country:"Brasil",region:"Am\xe9rica del Sur"},880:{country:"Corea del Sur",region:"Asia"},890:{country:"India",region:"Asia"}}))if(t.startsWith(e)||t===e)return a;return{country:"Desconocido",region:"Desconocido"}}function generateEnhancedProductImage(e,t){let a=t?detectProductType(t):"generic",r={beverage:"beverage bottle product commercial realistic food photography",dairy:"dairy product milk cheese yogurt commercial packaging realistic",meat:"meat protein food product commercial packaging realistic",cereal:"cereal breakfast food box packaging commercial realistic",snack:"snack food package commercial realistic product photography",fruit:"fresh fruit healthy food commercial realistic photography",vegetable:"fresh vegetables healthy food commercial realistic photography",generic:"food product package commercial realistic product photography"},o=r[a]||r.generic;return`https://readdy.ai/api/search-image?query=%7BencodeURIComponent(${o})%7D&width=200&height=200&seq=barcode_${e}&orientation=squarish`}function detectProductType(e){let t=e.toLowerCase();return t.includes("juice")||t.includes("soda")||t.includes("drink")||t.includes("bebida")?"beverage":t.includes("milk")||t.includes("cheese")||t.includes("yogurt")||t.includes("leche")||t.includes("queso")?"dairy":t.includes("meat")||t.includes("chicken")||t.includes("beef")||t.includes("carne")||t.includes("pollo")?"meat":t.includes("cereal")||t.includes("bread")||t.includes("pasta")||t.includes("pan")||t.includes("cereal")?"cereal":t.includes("snack")||t.includes("chip")||t.includes("cookie")||t.includes("galleta")?"snack":t.includes("fruit")||t.includes("apple")||t.includes("banana")||t.includes("fruta")||t.includes("manzana")?"fruit":t.includes("vegetable")||t.includes("carrot")||t.includes("broccoli")||t.includes("verdura")?"vegetable":"generic"}function isValidBarcode(e){if(!e||e.length<6||e.length>18)return!1;let t=e.replace(/[\s\-]/g,"");return!!/^\d+$/.test(t)&&!![6,7,8,12,13,14,17,18].includes(t.length)&&(13===t.length||12===t.length?validateEANUPCChecksum(t):8!==t.length||validateEAN8Checksum(t))}function validateEANUPCChecksum(e){if(13!==e.length&&12!==e.length)return!1;let t=e.split("").map(Number),a=t.pop(),r=0;for(let a=0;a<t.length;a++){let o=(e.length,a%2==0?1:3);r+=t[a]*o}let o=(10-r%10)%10;return o===a}function validateEAN8Checksum(e){if(8!==e.length)return!1;let t=e.split("").map(Number),a=t.pop(),r=0;for(let e=0;e<t.length;e++)r+=t[e]*(e%2==0?1:3);let o=(10-r%10)%10;return o===a}function AddFood(){let[e,t]=(0,c.useState)(!1),[a,o]=(0,c.useState)("es"),[n,u]=(0,c.useState)(""),[g,m]=(0,c.useState)([]),[x,f]=(0,c.useState)(!1),[h,b]=(0,c.useState)(null),[y,j]=(0,c.useState)("100"),[_,S]=(0,c.useState)("desayuno"),[v,w]=(0,c.useState)(!1),[N,C]=(0,c.useState)({calories:0,protein:0,carbs:0,fats:0,fiber:0}),[k,z]=(0,c.useState)(!1),[E,D]=(0,c.useState)(!1),[A,B]=(0,c.useState)(""),[P,T]=(0,c.useState)(""),[R,F]=(0,c.useState)(!1),M=(0,c.useRef)(null),I=(0,c.useRef)(null),$=(0,c.useRef)(null),W=(0,d.useRouter)();(0,c.useEffect)(()=>{t(!0);let e=localStorage.getItem("isAuthenticated");if(!e||"true"!==e){W.push("/login");return}try{let e=localStorage.getItem("userProfile");if(e){let t=JSON.parse(e);o(t.language||"es")}}catch(e){console.error("Error loading user profile:",e)}try{let e=p.r8.getCurrentTime({use24Hour:!0}),t=parseInt(e.split(":")[0]);t>=6&&t<12?S("desayuno"):t>=12&&t<17?S("almuerzo"):t>=17&&t<22?S("cena"):S("snack")}catch(e){console.warn("Error detectando hora del dispositivo para meal type:",e)}return()=>{if(I.current){var e;(e=I.current)&&e.stop()}$.current&&$.current.getTracks().forEach(e=>e.stop())}},[W]);let X={es:{addFood:"Agregar Comida",searchFood:"Buscar alimento",searchPlaceholder:"Escribe el nombre del alimento...",scanBarcode:"Escanear c\xf3digo",quantity:"Cantidad",grams:"gramos",mealType:"Tipo de comida",breakfast:"Desayuno",lunch:"Almuerzo",dinner:"Cena",snack:"Snack",addToLog:"Agregar al registro",nutrition:"Informaci\xf3n nutricional",calories:"Calor\xedas",protein:"Prote\xednas",carbs:"Carbohidratos",fats:"Grasas",fiber:"Fibra",per100g:"por 100g",noResults:"No se encontraron resultados",searchSomething:"Busca un alimento para comenzar",cancel:"Cancelar",save:"Guardar",close:"Cerrar",searching:"Buscando...",scanning:"Escaneando...",scanInstructions:"Apunta la c\xe1mara hacia el c\xf3digo de barras",foodAdded:"Alimento agregado correctamente",errorAdding:"Error al agregar alimento",popular:"Alimentos populares",recent:"Agregados recientemente",startCamera:"Iniciar c\xe1mara",stopScanning:"Detener escaneo",cameraError:"Error al acceder a la c\xe1mara",scannerNotSupported:"Esc\xe1ner no soportado en este dispositivo",productNotFound:"Producto no encontrado",productFound:"Producto encontrado",loadingProduct:"Buscando producto...",retryScanning:"Reintentar escaneo",scannerInstructions:"Mant\xe9n el c\xf3digo centrado y espera a que se detecte autom\xe1ticamente",lastScanned:"\xdaltimo c\xf3digo escaneado",allowCamera:"Por favor permite el acceso a la c\xe1mara para escanear c\xf3digos",invalidBarcode:"C\xf3digo de barras inv\xe1lido"},en:{addFood:"Add Food",searchFood:"Search food",searchPlaceholder:"Type food name...",scanBarcode:"Scan barcode",quantity:"Quantity",grams:"grams",mealType:"Meal type",breakfast:"Breakfast",lunch:"Lunch",dinner:"Dinner",snack:"Snack",addToLog:"Add to log",nutrition:"Nutrition information",calories:"Calories",protein:"Protein",carbs:"Carbs",fats:"Fats",fiber:"Fiber",per100g:"per 100g",noResults:"No results found",searchSomething:"Search for a food to get started",cancel:"Cancel",save:"Save",close:"Close",searching:"Searching...",scanning:"Scanning...",scanInstructions:"Point the camera at the barcode",foodAdded:"Food added successfully",errorAdding:"Error adding food",popular:"Popular foods",recent:"Recently added",startCamera:"Start camera",stopScanning:"Stop scanning",cameraError:"Error accessing camera",scannerNotSupported:"Scanner not supported on this device",productNotFound:"Product not found",productFound:"Product found",loadingProduct:"Searching product...",retryScanning:"Retry scanning",scannerInstructions:"Keep the code centered and wait for automatic detection",lastScanned:"Last scanned code",allowCamera:"Please allow camera access to scan barcodes",invalidBarcode:"Invalid barcode"}},q=X[a]||X.es,handleScannerError=e=>{console.error("âŒ Error del esc\xe1ner:",e),B(e.message||q.cameraError),D(!1)},stopScanning=()=>{if(D(!1),I.current){var e;(e=I.current)&&e.stop(),I.current=null}$.current&&($.current.getTracks().forEach(e=>e.stop()),$.current=null)},startBarcodeScanner=async()=>{if(M.current)try{D(!0),B(""),T("");let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920,min:640},height:{ideal:1080,min:480},frameRate:{ideal:30,min:15}}});$.current=e,M.current.srcObject=e,await new Promise(e=>{M.current&&(M.current.onloadedmetadata=()=>e())}),await M.current.play(),I.current=await initializeBarcodeScanner(M.current,handleBarcodeDetected,handleScannerError,{continuous:!0,formats:["ean_13","ean_8","upc_a","upc_e","code_128","code_39","qr_code"],scanArea:{x:.1,y:.3,width:.8,height:.4}}),console.log("âœ… Esc\xe1ner de c\xf3digos Ultra Pro iniciado correctamente")}catch(e){console.error("âŒ Error starting barcode scanner:",e),B(q.cameraError),D(!1),e instanceof Error&&("NotAllowedError"===e.name?B(q.allowCamera):"NotSupportedError"===e.name?B(q.scannerNotSupported):"NotFoundError"===e.name?B("No se encontr\xf3 c\xe1mara disponible"):"NotReadableError"===e.name&&B("Error al acceder a la c\xe1mara. Verifica que no est\xe9 en uso por otra aplicaci\xf3n."))}},handleBarcodeDetected=async e=>{console.log("\uD83D\uDCF1 C\xf3digo detectado:",e),T(e.code),F(!0);try{let t=await getProductByBarcode(e.code);if(t&&t.product_name){let a={id:e.code,name:t.product_name,brand:t.brands||"Desconocido",barcode:e.code,calories_per_100g:Math.max(0,t.nutriments?.["energy-kcal_100g"]||0),protein_per_100g:Math.max(0,t.nutriments?.proteins_100g||0),carbs_per_100g:Math.max(0,t.nutriments?.carbohydrates_100g||0),fats_per_100g:Math.max(0,t.nutriments?.fat_100g||0),fiber_per_100g:Math.max(0,t.nutriments?.fiber_100g||0),sugar_per_100g:Math.max(0,t.nutriments?.sugars_100g||0),sodium_per_100g:Math.max(0,t.nutriments?.salt_100g*400||0)},r=`${q.productFound}: ${a.name}`;t.brands&&(r+=` - ${t.brands}`),t.source&&console.log(`ðŸ“Š Fuente de datos: ${t.source}`),showSuccessMessage(r),z(!1),stopScanning(),handleFoodSelect(a)}else showErrorMessage(`${q.productNotFound}: ${e.code}`)}catch(a){console.error("âŒ Error fetching product:",a);let t=`${q.productNotFound}: ${e.code}`;a instanceof Error&&(a.message.includes("inv\xe1lido")?t=`${q.invalidBarcode}: ${e.code}`:a.message.includes("l\xedmite")&&(t="L\xedmite de consultas alcanzado. Intenta m\xe1s tarde.")),showErrorMessage(t)}finally{F(!1)}},Z=[{id:"1",name:"Arroz blanco cocido",brand:"Gen\xe9rico",calories_per_100g:130,protein_per_100g:2.7,carbs_per_100g:28,fats_per_100g:.3,fiber_per_100g:.4},{id:"2",name:"Pechuga de pollo cocida",brand:"Gen\xe9rico",calories_per_100g:165,protein_per_100g:31,carbs_per_100g:0,fats_per_100g:3.6,fiber_per_100g:0},{id:"3",name:"Huevo entero",brand:"Gen\xe9rico",calories_per_100g:155,protein_per_100g:13,carbs_per_100g:1.1,fats_per_100g:11,fiber_per_100g:0},{id:"4",name:"Banana",brand:"Gen\xe9rico",calories_per_100g:89,protein_per_100g:1.1,carbs_per_100g:23,fats_per_100g:.3,fiber_per_100g:2.6},{id:"5",name:"Avena",brand:"Gen\xe9rico",calories_per_100g:389,protein_per_100g:16.9,carbs_per_100g:66,fats_per_100g:6.9,fiber_per_100g:10.6},{id:"6",name:"Leche entera",brand:"Gen\xe9rico",calories_per_100g:61,protein_per_100g:3.2,carbs_per_100g:4.8,fats_per_100g:3.3,fiber_per_100g:0},{id:"7",name:"Pan integral",brand:"Gen\xe9rico",calories_per_100g:247,protein_per_100g:13,carbs_per_100g:41,fats_per_100g:4.2,fiber_per_100g:7},{id:"8",name:"Yogur griego natural",brand:"Gen\xe9rico",calories_per_100g:59,protein_per_100g:10,carbs_per_100g:3.6,fats_per_100g:.4,fiber_per_100g:0}],searchFood=async e=>{if(!e.trim()){m([]);return}f(!0);try{await new Promise(e=>setTimeout(e,500));let t=Z.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())||t.brand.toLowerCase().includes(e.toLowerCase()));m(t)}catch(e){console.error("Error searching food:",e),m([])}finally{f(!1)}},calculateNutrition=(e,t)=>{let a=t/100;return{calories:Math.round(e.calories_per_100g*a),protein:Math.round(e.protein_per_100g*a*10)/10,carbs:Math.round(e.carbs_per_100g*a*10)/10,fats:Math.round(e.fats_per_100g*a*10)/10,fiber:Math.round((e.fiber_per_100g||0)*a*10)/10}},handleFoodSelect=e=>{b(e);let t=calculateNutrition(e,parseFloat(y)||100);C(t),w(!0)},showSuccessMessage=e=>{let t=document.createElement("div");t.style.cssText=`
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
      border: 1px solid #16a34a;
      border-radius: 12px;
      padding: 16px 24px;
      z-index: 3000;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      display: flex;
      align-items: center;
      gap: 12px;
      max-width: 320px;
      width: 90%;
    `,t.innerHTML=`
      <div style="width: 24px; height: 24px; background: #16a34a; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
        <i class="ri-check-line" style="color: white; font-size: 14px;"></i>
      </div>
      <div>
        <p style="font-size: 14px; font-weight: 600; color: #15803d; margin: 0;">${e||q.foodAdded}</p>
      </div>
    `,document.body.appendChild(t),setTimeout(()=>{document.body.contains(t)&&document.body.removeChild(t)},3e3)},showErrorMessage=e=>{let t=document.createElement("div");t.style.cssText=`
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: linear-gradient(135deg, #fef2f2 0%, #fecaca 100%);
      border: 1px solid #ef4444;
      border-radius: 12px;
      padding: 16px 24px;
      z-index: 3000;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      display: flex;
      align-items: center;
      gap: 12px;
      max-width: 320px;
      width: 90%;
    `,t.innerHTML=`
      <div style="width: 24px; height: 24px; background: #ef4444; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
        <i class="ri-close-line" style="color: white; font-size: 14px;"></i>
      </div>
      <div>
        <p style="font-size: 14px; font-weight: 600; color: #dc2626; margin: 0;">${e||q.errorAdding}</p>
      </div>
    `,document.body.appendChild(t),setTimeout(()=>{document.body.contains(t)&&document.body.removeChild(t)},3e3)},formatNumber=e=>e%1==0?e.toString():e.toFixed(1);return e?(0,r.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 100%)",paddingTop:"80px",paddingBottom:"100px"},className:"jsx-a837615093a26957",children:[r.jsx("header",{style:{position:"fixed",top:0,left:0,right:0,background:"white",padding:"20px 16px",borderBottom:"1px solid #e5e7eb",zIndex:1e3},className:"jsx-a837615093a26957",children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},className:"jsx-a837615093a26957",children:[r.jsx(i(),{href:"/",className:"!rounded-button",style:{width:"40px",height:"40px",background:"#f3f4f6",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",textDecoration:"none"},children:r.jsx("i",{style:{color:"#374151",fontSize:"18px"},className:"jsx-a837615093a26957 ri-arrow-left-line"})}),r.jsx("h1",{style:{fontSize:"20px",fontWeight:"600",color:"#1f2937",margin:0},className:"jsx-a837615093a26957",children:q.addFood})]})}),(0,r.jsxs)("main",{style:{padding:"24px 16px"},className:"jsx-a837615093a26957",children:[(0,r.jsxs)("div",{style:{background:"white",borderRadius:"16px",padding:"24px",boxShadow:"0 4px 6px rgba(0,0,0,0.07)",marginBottom:"24px"},className:"jsx-a837615093a26957",children:[r.jsx("h2",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",margin:"0 0 16px 0"},className:"jsx-a837615093a26957",children:q.searchFood}),(0,r.jsxs)("div",{style:{position:"relative",marginBottom:"16px"},className:"jsx-a837615093a26957",children:[r.jsx("div",{style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},className:"jsx-a837615093a26957",children:r.jsx("i",{style:{color:"#6b7280",fontSize:"18px"},className:"jsx-a837615093a26957 ri-search-line"})}),r.jsx("input",{type:"text",value:n,onChange:e=>{let t=e.target.value;u(t),searchFood(t)},placeholder:q.searchPlaceholder,style:{width:"100%",padding:"12px 16px 12px 48px",borderRadius:"12px",border:"1px solid #e5e7eb",fontSize:"16px",outline:"none",backgroundColor:"white",boxSizing:"border-box"},className:"jsx-a837615093a26957"}),x&&r.jsx("div",{style:{position:"absolute",right:"16px",top:"50%",transform:"translateY(-50%)",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},className:"jsx-a837615093a26957",children:r.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid #e5e7eb",borderTop:"2px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"},className:"jsx-a837615093a26957"})})]}),(0,r.jsxs)("button",{onClick:()=>{z(!0),setTimeout(()=>{startBarcodeScanner()},100)},style:{width:"100%",padding:"12px 16px",background:"#f0f9ff",border:"1px solid #e0e7ff",borderRadius:"12px",color:"#3b82f6",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},className:"jsx-a837615093a26957 !rounded-button",children:[r.jsx("i",{style:{fontSize:"18px"},className:"jsx-a837615093a26957 ri-barcode-line"}),q.scanBarcode]})]}),n?r.jsx("div",{style:{background:"white",borderRadius:"16px",padding:"24px",boxShadow:"0 4px 6px rgba(0,0,0,0.07)",marginBottom:"24px"},className:"jsx-a837615093a26957",children:x?(0,r.jsxs)("div",{style:{textAlign:"center",padding:"40px 20px",color:"#6b7280"},className:"jsx-a837615093a26957",children:[r.jsx("div",{style:{width:"32px",height:"32px",border:"3px solid #e5e7eb",borderTop:"3px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px auto"},className:"jsx-a837615093a26957"}),r.jsx("p",{style:{fontSize:"14px",margin:0},className:"jsx-a837615093a26957",children:q.searching})]}):g.length>0?(0,r.jsxs)("div",{className:"jsx-a837615093a26957",children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",margin:"0 0 16px 0"},className:"jsx-a837615093a26957",children:"Resultados de b\xfasqueda"}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},className:"jsx-a837615093a26957",children:g.map(e=>(0,r.jsxs)("div",{onClick:()=>handleFoodSelect(e),style:{padding:"16px",background:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#f0f9ff",e.currentTarget.style.borderColor="#e0e7ff"},onMouseLeave:e=>{e.currentTarget.style.background="#f8fafc",e.currentTarget.style.borderColor="#e2e8f0"},className:"jsx-a837615093a26957",children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},className:"jsx-a837615093a26957",children:[r.jsx("h4",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",margin:0},className:"jsx-a837615093a26957",children:e.name}),(0,r.jsxs)("span",{style:{fontSize:"14px",fontWeight:"600",color:"#3b82f6"},className:"jsx-a837615093a26957",children:[e.calories_per_100g," cal"]})]}),(0,r.jsxs)("p",{style:{fontSize:"12px",color:"#6b7280",margin:"0 0 8px 0"},className:"jsx-a837615093a26957",children:[e.brand," â€¢ ",q.per100g]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"16px",fontSize:"12px",color:"#374151"},className:"jsx-a837615093a26957",children:[(0,r.jsxs)("span",{className:"jsx-a837615093a26957",children:["P: ",formatNumber(e.protein_per_100g),"g"]}),(0,r.jsxs)("span",{className:"jsx-a837615093a26957",children:["C: ",formatNumber(e.carbs_per_100g),"g"]}),(0,r.jsxs)("span",{className:"jsx-a837615093a26957",children:["G: ",formatNumber(e.fats_per_100g),"g"]})]})]},e.id))})]}):(0,r.jsxs)("div",{style:{textAlign:"center",padding:"40px 20px",color:"#6b7280"},className:"jsx-a837615093a26957",children:[r.jsx("i",{style:{fontSize:"48px",marginBottom:"16px"},className:"jsx-a837615093a26957 ri-search-line"}),r.jsx("p",{style:{fontSize:"16px",fontWeight:"500",margin:"0 0 8px 0"},className:"jsx-a837615093a26957",children:q.noResults}),r.jsx("p",{style:{fontSize:"14px",margin:0},className:"jsx-a837615093a26957",children:"Intenta con otro t\xe9rmino de b\xfasqueda"})]})}):(0,r.jsxs)("div",{style:{background:"white",borderRadius:"16px",padding:"24px",boxShadow:"0 4px 6px rgba(0,0,0,0.07)"},className:"jsx-a837615093a26957",children:[r.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",margin:"0 0 16px 0"},className:"jsx-a837615093a26957",children:q.popular}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},className:"jsx-a837615093a26957",children:Z.slice(0,6).map(e=>(0,r.jsxs)("div",{onClick:()=>handleFoodSelect(e),style:{padding:"16px",background:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#f0f9ff",e.currentTarget.style.borderColor="#e0e7ff"},onMouseLeave:e=>{e.currentTarget.style.background="#f8fafc",e.currentTarget.style.borderColor="#e2e8f0"},className:"jsx-a837615093a26957",children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},className:"jsx-a837615093a26957",children:[r.jsx("h4",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",margin:0},className:"jsx-a837615093a26957",children:e.name}),(0,r.jsxs)("span",{style:{fontSize:"14px",fontWeight:"600",color:"#3b82f6"},className:"jsx-a837615093a26957",children:[e.calories_per_100g," cal"]})]}),(0,r.jsxs)("p",{style:{fontSize:"12px",color:"#6b7280",margin:"0 0 8px 0"},className:"jsx-a837615093a26957",children:[e.brand," â€¢ ",q.per100g]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"16px",fontSize:"12px",color:"#374151"},className:"jsx-a837615093a26957",children:[(0,r.jsxs)("span",{className:"jsx-a837615093a26957",children:["P: ",formatNumber(e.protein_per_100g),"g"]}),(0,r.jsxs)("span",{className:"jsx-a837615093a26957",children:["C: ",formatNumber(e.carbs_per_100g),"g"]}),(0,r.jsxs)("span",{className:"jsx-a837615093a26957",children:["G: ",formatNumber(e.fats_per_100g),"g"]})]})]},e.id))})]})]}),k&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{onClick:()=>{stopScanning(),z(!1),B(""),T("")},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.9)",zIndex:2e3},className:"jsx-a837615093a26957"}),(0,r.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"#000",zIndex:2001,display:"flex",flexDirection:"column"},className:"jsx-a837615093a26957",children:[(0,r.jsxs)("div",{style:{position:"absolute",top:0,left:0,right:0,background:"linear-gradient(180deg, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 100%)",padding:"20px 16px",zIndex:2002,display:"flex",justifyContent:"space-between",alignItems:"center"},className:"jsx-a837615093a26957",children:[r.jsx("h3",{style:{color:"white",fontSize:"18px",fontWeight:"600",margin:0},className:"jsx-a837615093a26957",children:q.scanBarcode}),r.jsx("button",{onClick:()=>{stopScanning(),z(!1),B(""),T("")},style:{width:"40px",height:"40px",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"50%",color:"white",fontSize:"20px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},className:"jsx-a837615093a26957 !rounded-button",children:"\xd7"})]}),r.jsx("video",{ref:M,autoPlay:!0,playsInline:!0,muted:!0,style:{width:"100%",height:"100%",objectFit:"cover"},className:"jsx-a837615093a26957"}),r.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"300px",height:"200px",zIndex:2002,pointerEvents:"none"},className:"jsx-a837615093a26957",children:(0,r.jsxs)("div",{style:{width:"100%",height:"100%",border:"3px solid #3b82f6",borderRadius:"16px",position:"relative",background:"rgba(59, 130, 246, 0.1)",backdropFilter:"blur(1px)"},className:"jsx-a837615093a26957",children:[r.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"2px",background:"linear-gradient(90deg, transparent, #3b82f6, transparent)",animation:"scan-line 2s infinite",borderRadius:"1px"},className:"jsx-a837615093a26957"}),[{top:"-3px",left:"-3px",borderTop:"6px solid #3b82f6",borderLeft:"6px solid #3b82f6"},{top:"-3px",right:"-3px",borderTop:"6px solid #3b82f6",borderRight:"6px solid #3b82f6"},{bottom:"-3px",left:"-3px",borderBottom:"6px solid #3b82f6",borderLeft:"6px solid #3b82f6"},{bottom:"-3px",right:"-3px",borderBottom:"6px solid #3b82f6",borderRight:"6px solid #3b82f6"}].map((e,t)=>r.jsx("div",{style:{position:"absolute",width:"32px",height:"32px",...e,borderRadius:"8px"},className:"jsx-a837615093a26957"},t)),r.jsx("div",{style:{position:"absolute",bottom:"-40px",left:"50%",transform:"translateX(-50%)",color:"white",fontSize:"14px",fontWeight:"500",textAlign:"center",background:"rgba(0,0,0,0.7)",padding:"6px 12px",borderRadius:"20px",whiteSpace:"nowrap"},className:"jsx-a837615093a26957",children:"\uD83D\uDCF1 \xc1rea \xf3ptima de escaneo"})]})}),(0,r.jsxs)("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(0deg, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.7) 50%, rgba(0,0,0,0) 100%)",padding:"60px 16px 20px 16px",zIndex:2002,textAlign:"center"},className:"jsx-a837615093a26957",children:[A?(0,r.jsxs)("div",{style:{marginBottom:"20px"},className:"jsx-a837615093a26957",children:[(0,r.jsxs)("div",{style:{background:"rgba(239, 68, 68, 0.15)",border:"1px solid rgba(239, 68, 68, 0.4)",borderRadius:"12px",padding:"16px",marginBottom:"16px",backdropFilter:"blur(10px)"},className:"jsx-a837615093a26957",children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",marginBottom:"8px"},className:"jsx-a837615093a26957",children:[r.jsx("i",{style:{color:"#ef4444",fontSize:"24px"},className:"jsx-a837615093a26957 ri-error-warning-line"}),r.jsx("p",{style:{color:"#ef4444",fontSize:"16px",fontWeight:"600",margin:0},className:"jsx-a837615093a26957",children:"Error de Escaneo"})]}),r.jsx("p",{style:{color:"#fca5a5",fontSize:"14px",margin:0,lineHeight:"1.4"},className:"jsx-a837615093a26957",children:A})]}),(0,r.jsxs)("button",{onClick:()=>{B(""),startBarcodeScanner()},style:{background:"linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)",border:"none",borderRadius:"12px",color:"white",fontSize:"16px",fontWeight:"500",padding:"12px 24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",margin:"0 auto",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},className:"jsx-a837615093a26957 !rounded-button",children:[r.jsx("i",{style:{fontSize:"18px"},className:"jsx-a837615093a26957 ri-refresh-line"}),q.retryScanning]})]}):R?r.jsx("div",{style:{marginBottom:"20px"},className:"jsx-a837615093a26957",children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"16px",background:"rgba(59, 130, 246, 0.15)",border:"1px solid rgba(59, 130, 246, 0.4)",borderRadius:"12px",padding:"20px",backdropFilter:"blur(10px)"},className:"jsx-a837615093a26957",children:[r.jsx("div",{style:{width:"24px",height:"24px",border:"3px solid rgba(59, 130, 246, 0.3)",borderTop:"3px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"},className:"jsx-a837615093a26957"}),(0,r.jsxs)("div",{className:"jsx-a837615093a26957",children:[r.jsx("p",{style:{color:"#3b82f6",fontSize:"16px",fontWeight:"600",margin:"0 0 4px 0"},className:"jsx-a837615093a26957",children:q.loadingProduct}),r.jsx("p",{style:{color:"#93c5fd",fontSize:"14px",margin:0},className:"jsx-a837615093a26957",children:"Consultando bases de datos..."})]})]})}):E?(0,r.jsxs)("div",{style:{marginBottom:"20px"},className:"jsx-a837615093a26957",children:[(0,r.jsxs)("div",{style:{background:"rgba(16, 185, 129, 0.15)",border:"1px solid rgba(16, 185, 129, 0.4)",borderRadius:"12px",padding:"20px",marginBottom:"16px",backdropFilter:"blur(10px)"},className:"jsx-a837615093a26957",children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",marginBottom:"12px"},className:"jsx-a837615093a26957",children:[r.jsx("div",{style:{width:"12px",height:"12px",background:"#10b981",borderRadius:"50%",animation:"pulse 1.5s infinite"},className:"jsx-a837615093a26957"}),r.jsx("p",{style:{color:"#10b981",fontSize:"16px",fontWeight:"600",margin:0},className:"jsx-a837615093a26957",children:"Esc\xe1ner Activo"})]}),r.jsx("p",{style:{color:"white",fontSize:"15px",fontWeight:"500",margin:"0 0 8px 0"},className:"jsx-a837615093a26957",children:q.scanInstructions}),r.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"13px",margin:0,lineHeight:"1.4"},className:"jsx-a837615093a26957",children:q.scannerInstructions})]}),(0,r.jsxs)("button",{onClick:stopScanning,style:{background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"12px",color:"white",fontSize:"14px",fontWeight:"500",padding:"10px 20px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",margin:"0 auto",backdropFilter:"blur(10px)"},className:"jsx-a837615093a26957 !rounded-button",children:[r.jsx("i",{style:{fontSize:"16px"},className:"jsx-a837615093a26957 ri-stop-line"}),q.stopScanning]})]}):(0,r.jsxs)("div",{style:{marginBottom:"20px"},className:"jsx-a837615093a26957",children:[(0,r.jsxs)("button",{onClick:startBarcodeScanner,style:{background:"linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)",border:"none",borderRadius:"12px",color:"white",fontSize:"18px",fontWeight:"500",padding:"16px 32px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",margin:"0 auto",boxShadow:"0 6px 20px rgba(59, 130, 246, 0.4)",transform:"translateY(0)",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 8px 25px rgba(59, 130, 246, 0.5)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 6px 20px rgba(59, 130, 246, 0.4)"},className:"jsx-a837615093a26957 !rounded-button",children:[r.jsx("i",{style:{fontSize:"24px"},className:"jsx-a837615093a26957 ri-camera-line"}),q.startCamera]}),r.jsx("div",{style:{marginTop:"16px",padding:"12px 16px",background:"rgba(255,255,255,0.1)",borderRadius:"12px",backdropFilter:"blur(10px)"},className:"jsx-a837615093a26957",children:r.jsx("p",{style:{color:"rgba(255,255,255,0.9)",fontSize:"13px",margin:0,textAlign:"center",lineHeight:"1.4"},className:"jsx-a837615093a26957",children:"\uD83D\uDCA1 Tip: Aseg\xfarate de tener buena iluminaci\xf3n para mejores resultados"})})]}),P&&(0,r.jsxs)("div",{style:{background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"12px",padding:"12px 16px",backdropFilter:"blur(10px)",marginTop:"16px"},className:"jsx-a837615093a26957",children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"6px"},className:"jsx-a837615093a26957",children:[r.jsx("i",{style:{color:"rgba(255,255,255,0.7)",fontSize:"16px"},className:"jsx-a837615093a26957 ri-qr-code-line"}),(0,r.jsxs)("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"12px",margin:0},className:"jsx-a837615093a26957",children:[q.lastScanned,":"]})]}),r.jsx("p",{style:{color:"white",fontSize:"16px",fontWeight:"600",margin:0,fontFamily:"monospace",letterSpacing:"1px"},className:"jsx-a837615093a26957",children:P})]})]})]})]}),v&&h&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{onClick:()=>w(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e3},className:"jsx-a837615093a26957"}),(0,r.jsxs)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"20px",padding:"24px",width:"90%",maxWidth:"400px",maxHeight:"80vh",overflowY:"auto",zIndex:1001},className:"jsx-a837615093a26957",children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},className:"jsx-a837615093a26957",children:[r.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",margin:0},className:"jsx-a837615093a26957",children:h.name}),r.jsx("button",{onClick:()=>w(!1),style:{background:"none",border:"none",fontSize:"24px",color:"#6b7280",cursor:"pointer"},className:"jsx-a837615093a26957",children:"\xd7"})]}),(0,r.jsxs)("p",{style:{fontSize:"14px",color:"#6b7280",margin:"0 0 20px 0"},className:"jsx-a837615093a26957",children:[h.brand," ",h.barcode&&`â€¢ ${h.barcode}`]}),(0,r.jsxs)("div",{style:{marginBottom:"24px"},className:"jsx-a837615093a26957",children:[r.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},className:"jsx-a837615093a26957",children:q.quantity}),(0,r.jsxs)("div",{style:{position:"relative"},className:"jsx-a837615093a26957",children:[r.jsx("input",{type:"number",value:y,onChange:e=>{let t=e.target.value;if(j(t),h){let e=calculateNutrition(h,parseFloat(t)||100);C(e)}},min:"1",style:{width:"100%",padding:"12px 60px 12px 16px",borderRadius:"12px",border:"1px solid #e5e7eb",fontSize:"16px",outline:"none",boxSizing:"border-box"},className:"jsx-a837615093a26957"}),r.jsx("span",{style:{position:"absolute",right:"16px",top:"50%",transform:"translateY(-50%)",fontSize:"14px",color:"#6b7280"},className:"jsx-a837615093a26957",children:q.grams})]})]}),(0,r.jsxs)("div",{style:{marginBottom:"24px"},className:"jsx-a837615093a26957",children:[r.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},className:"jsx-a837615093a26957",children:q.mealType}),(0,r.jsxs)("select",{value:_,onChange:e=>S(e.target.value),style:{width:"100%",padding:"12px 16px",borderRadius:"12px",border:"1px solid #e5e7eb",fontSize:"16px",outline:"none",backgroundColor:"white",boxSizing:"border-box"},className:"jsx-a837615093a26957",children:[r.jsx("option",{value:"desayuno",className:"jsx-a837615093a26957",children:q.breakfast}),r.jsx("option",{value:"almuerzo",className:"jsx-a837615093a26957",children:q.lunch}),r.jsx("option",{value:"cena",className:"jsx-a837615093a26957",children:q.dinner}),r.jsx("option",{value:"snack",className:"jsx-a837615093a26957",children:q.snack})]})]}),(0,r.jsxs)("div",{style:{background:"#f8fafc",borderRadius:"12px",padding:"16px",marginBottom:"24px",border:"1px solid #e2e8f0"},className:"jsx-a837615093a26957",children:[r.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937",margin:"0 0 12px 0"},className:"jsx-a837615093a26957",children:q.nutrition}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},className:"jsx-a837615093a26957",children:[(0,r.jsxs)("div",{style:{textAlign:"center",padding:"12px",background:"white",borderRadius:"8px",border:"1px solid #e5e7eb"},className:"jsx-a837615093a26957",children:[r.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"#fef3c7",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 8px auto"},className:"jsx-a837615093a26957",children:r.jsx("i",{style:{color:"#f59e0b",fontSize:"16px"},className:"jsx-a837615093a26957 ri-fire-line"})}),r.jsx("p",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",margin:"0 0 4px 0"},className:"jsx-a837615093a26957",children:N.calories}),r.jsx("p",{style:{fontSize:"12px",color:"#6b7280",margin:0},className:"jsx-a837615093a26957",children:q.calories})]}),(0,r.jsxs)("div",{style:{textAlign:"center",padding:"12px",background:"white",borderRadius:"8px",border:"1px solid #e5e7eb"},className:"jsx-a837615093a26957",children:[r.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"#dcfce7",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 8px auto"},className:"jsx-a837615093a26957",children:r.jsx("i",{style:{color:"#16a34a",fontSize:"16px"},className:"jsx-a837615093a26957 ri-bread-line"})}),(0,r.jsxs)("p",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",margin:"0 0 4px 0"},className:"jsx-a837615093a26957",children:[formatNumber(N.protein),"g"]}),r.jsx("p",{style:{fontSize:"12px",color:"#6b7280",margin:0},className:"jsx-a837615093a26957",children:q.protein})]}),(0,r.jsxs)("div",{style:{textAlign:"center",padding:"12px",background:"white",borderRadius:"8px",border:"1px solid #e5e7eb"},className:"jsx-a837615093a26957",children:[r.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"#fef3c7",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 8px auto"},className:"jsx-a837615093a26957",children:r.jsx("i",{style:{color:"#f59e0b",fontSize:"16px"},className:"jsx-a837615093a26957 ri-restaurant-line"})}),(0,r.jsxs)("p",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",margin:"0 0 4px 0"},className:"jsx-a837615093a26957",children:[formatNumber(N.carbs),"g"]}),r.jsx("p",{style:{fontSize:"12px",color:"#6b7280",margin:0},className:"jsx-a837615093a26957",children:q.carbs})]}),(0,r.jsxs)("div",{style:{textAlign:"center",padding:"12px",background:"white",borderRadius:"8px",border:"1px solid #e5e7eb"},className:"jsx-a837615093a26957",children:[r.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"#e0e7ff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 8px auto"},className:"jsx-a837615093a26957",children:r.jsx("i",{style:{color:"#6366f1",fontSize:"16px"},className:"jsx-a837615093a26957 ri-drop-line"})}),(0,r.jsxs)("p",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",margin:"0 0 4px 0"},className:"jsx-a837615093a26957",children:[formatNumber(N.fats),"g"]}),r.jsx("p",{style:{fontSize:"12px",color:"#6b7280",margin:0},className:"jsx-a837615093a26957",children:q.fats})]})]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px"},className:"jsx-a837615093a26957",children:[r.jsx("button",{onClick:()=>w(!1),style:{flex:1,padding:"12px 16px",background:"#f8fafc",border:"1px solid #e5e7eb",borderRadius:"12px",color:"#6b7280",fontSize:"14px",fontWeight:"500",cursor:"pointer"},className:"jsx-a837615093a26957 !rounded-button",children:q.cancel}),r.jsx("button",{onClick:()=>{if(h)try{let e=p.r8.getCurrentDate(),t=`nutrition_${e}`,a=localStorage.getItem(t),r=a?JSON.parse(a):{calories:0,protein:0,carbs:0,fats:0,fiber:0,water:0,meals:[]},o={id:Date.now().toString(),name:h.name,brand:h.brand,mealType:_,quantity:parseFloat(y),calories:N.calories,protein:N.protein,carbs:N.carbs,fats:N.fats,fiber:N.fiber,barcode:h.barcode,timestamp:p.r8.createTimestamp()};r.calories+=N.calories,r.protein+=N.protein,r.carbs+=N.carbs,r.fats+=N.fats,r.fiber+=N.fiber,r.meals.push(o),localStorage.setItem(t,JSON.stringify(r)),window.dispatchEvent(new CustomEvent("nutritionDataUpdated",{detail:{date:e,data:r}})),showSuccessMessage(),w(!1),b(null),j("100"),u(""),m([])}catch(e){console.error("Error adding food:",e),showErrorMessage()}},style:{flex:1,padding:"12px 16px",background:"linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)",border:"none",borderRadius:"12px",color:"white",fontSize:"14px",fontWeight:"500",cursor:"pointer"},className:"jsx-a837615093a26957 !rounded-button",children:q.addToLog})]})]})]}),r.jsx(l.Z,{}),r.jsx(s(),{id:"a837615093a26957",children:"@-webkit-keyframes scan-line{0%{-webkit-transform:translatey(0);transform:translatey(0);opacity:1}50%{-webkit-transform:translatey(100px);transform:translatey(100px);opacity:.8}100%{-webkit-transform:translatey(200px);transform:translatey(200px);opacity:0}}@-moz-keyframes scan-line{0%{-moz-transform:translatey(0);transform:translatey(0);opacity:1}50%{-moz-transform:translatey(100px);transform:translatey(100px);opacity:.8}100%{-moz-transform:translatey(200px);transform:translatey(200px);opacity:0}}@-o-keyframes scan-line{0%{-o-transform:translatey(0);transform:translatey(0);opacity:1}50%{-o-transform:translatey(100px);transform:translatey(100px);opacity:.8}100%{-o-transform:translatey(200px);transform:translatey(200px);opacity:0}}@keyframes scan-line{0%{-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0);opacity:1}50%{-webkit-transform:translatey(100px);-moz-transform:translatey(100px);-o-transform:translatey(100px);transform:translatey(100px);opacity:.8}100%{-webkit-transform:translatey(200px);-moz-transform:translatey(200px);-o-transform:translatey(200px);transform:translatey(200px);opacity:0}}@-webkit-keyframes pulse{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.7;-webkit-transform:scale(1.1);transform:scale(1.1)}}@-moz-keyframes pulse{0%,100%{opacity:1;-moz-transform:scale(1);transform:scale(1)}50%{opacity:.7;-moz-transform:scale(1.1);transform:scale(1.1)}}@-o-keyframes pulse{0%,100%{opacity:1;-o-transform:scale(1);transform:scale(1)}50%{opacity:.7;-o-transform:scale(1.1);transform:scale(1.1)}}@keyframes pulse{0%,100%{opacity:1;-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1)}50%{opacity:.7;-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]}):(0,r.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 100%)",display:"flex",alignItems:"center",justifyContent:"center"},className:"jsx-d525c98fb358669b",children:[r.jsx("div",{style:{width:"32px",height:"32px",border:"3px solid #e5e7eb",borderTop:"3px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"},className:"jsx-d525c98fb358669b"}),r.jsx(s(),{id:"d525c98fb358669b",children:"@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]})}setInterval(()=>{let e=Date.now();for(let[t,a]of u.entries())e-a.timestamp>6e5&&u.delete(t)},3e5),console.log(" Ultra Barcode Scanner Pro inicializado con mejoras avanzadas")},2554:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>s,default:()=>c});var r=a(5153);let o=(0,r.createProxy)(String.raw`C:\Users\biges\OneDrive\Escritorio\profitnessapp\app\add-food\page.tsx`),{__esModule:s,$$typeof:n}=o,i=o.default,c=i}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[621,675,448,981],()=>__webpack_exec__(4824));module.exports=a})();