(()=>{var e={};e.id=626,e.ids=[626],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},7310:e=>{"use strict";e.exports=require("url")},5917:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>g,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=i(7096),o=i(6132),n=i(7284),a=i.n(n),s=i(2564),l={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>s[e]);i.d(t,l);let d=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,5004)),"C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\login\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,5345)),"C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(i.bind(i,4293)),"C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\not-found.tsx"]}],c=["C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\login\\page.tsx"],g="/login/page",p={require:i,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9944:(e,t,i)=>{Promise.resolve().then(i.bind(i,2016))},2016:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Login});var r=i(784),o=i(9885),n=i(7114),a=i(3745),s=i.n(a);function LoadingSpinner(){return r.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx("div",{style:{width:"32px",height:"32px",border:"3px solid #e5e7eb",borderTop:"3px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"},className:"jsx-d525c98fb358669b",children:r.jsx(s(),{id:"d525c98fb358669b",children:"@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})})})}function Logo({size:e="md"}){let t=(()=>{switch(e){case"sm":return{width:"32px",height:"32px",fontSize:"20px"};case"md":default:return{width:"48px",height:"48px",fontSize:"28px"};case"lg":return{width:"60px",height:"60px",fontSize:"32px"};case"xl":return{width:"80px",height:"80px",fontSize:"40px"}}})();return(0,r.jsxs)("div",{style:{width:t.width,height:t.height,background:"linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",position:"relative",overflow:"hidden"},children:[r.jsx("i",{className:"ri-heart-pulse-line",style:{color:"white",fontSize:t.fontSize,fontWeight:"bold"}}),r.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 50%)",borderRadius:"50%"}})]})}function Login(){let[e,t]=(0,o.useState)(!1),[i,a]=(0,o.useState)(""),s=(0,n.useRouter)();(0,o.useEffect)(()=>{let e=localStorage.getItem("isAuthenticated");if("true"===e){s.push("/");return}loadGoogleSignIn()},[s]);let loadGoogleSignIn=()=>{let e=document.createElement("script");e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.onload=initializeGoogleSignIn,document.head.appendChild(e)},initializeGoogleSignIn=()=>{if(window.google)try{window.google.accounts.id.initialize({client_id:"234981966694-v0qeb0nj89mrscnn5nef6o0eddj2fi15.apps.googleusercontent.com",callback:handleGoogleSignIn,auto_select:!1,cancel_on_tap_outside:!0,ux_mode:"popup"}),window.google.accounts.id.renderButton(document.getElementById("google-signin-button"),{theme:"outline",size:"large",width:"100%",text:"signin_with",shape:"rectangular",logo_alignment:"left",locale:"es"})}catch(e){console.error("Error initializing Google Sign-In:",e),a("Error al configurar Google Sign-In. Por favor, contacta al soporte.")}},handleGoogleSignIn=async e=>{t(!0),a("");try{let t=JSON.parse(atob(e.credential.split(".")[1]));if(!t||!t.email||!t.name)throw Error("Token inv\xe1lido recibido de Google");let i=t.email,r=`user_${i}`,o=localStorage.getItem(r);if(o){let e=JSON.parse(o);localStorage.setItem("userData",JSON.stringify(e.userData)),localStorage.setItem("userProfile",JSON.stringify(e.userProfile)),localStorage.setItem("isAuthenticated","true"),e.userProfilePhoto&&localStorage.setItem("userProfilePhoto",e.userProfilePhoto),e.nutritionData&&Object.keys(e.nutritionData).forEach(t=>{localStorage.setItem(t,e.nutritionData[t])}),e.restDaySettings&&localStorage.setItem("restDaySettings",e.restDaySettings),e.hydrationReminder&&localStorage.setItem("hydrationReminder",e.hydrationReminder),e.healthData&&localStorage.setItem("healthData",e.healthData),showWelcomeMessage(`\xa1Bienvenido de vuelta, ${e.userData.name}!`,"Datos restaurados correctamente")}else{let e={name:t.name,email:t.email,picture:t.picture||"",sub:t.sub,email_verified:t.email_verified||!1};localStorage.setItem("userData",JSON.stringify(e)),localStorage.setItem("isAuthenticated","true");let i={name:e.name,email:e.email,age:"",weight:"",height:"",activityLevel:"moderate",workActivity:"sedentary",goal:"maintain",language:"es",targetCalories:2e3,targetProtein:120,targetCarbs:250,targetFats:67,targetWater:2500,targetFiber:25,syncEnabled:!1,lastSyncTime:null,avgDailySteps:0,avgActiveMinutes:0,avgCaloriesBurned:0};localStorage.setItem("userProfile",JSON.stringify(i)),e.picture&&localStorage.setItem("userProfilePhoto",e.picture);let o={userData:e,userProfile:i,userProfilePhoto:e.picture||null,nutritionData:{},restDaySettings:null,hydrationReminder:null,healthData:null,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()};localStorage.setItem(r,JSON.stringify(o)),showWelcomeMessage(`\xa1Bienvenido, ${e.name}!`,"Tu cuenta ha sido creada exitosamente")}let n=`user_${i}`,a=JSON.parse(localStorage.getItem(n)||"{}");a.lastLogin=new Date().toISOString(),localStorage.setItem(n,JSON.stringify(a)),setTimeout(()=>{s.push("/")},2e3)}catch(e){console.error("Error durante el inicio de sesi\xf3n:",e),a("Error al iniciar sesi\xf3n con Google. Por favor, intenta de nuevo."),t(!1)}},showWelcomeMessage=(e,t)=>{let i=document.createElement("div");i.style.cssText=`
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
      border: 1px solid #bbf7d0;
      border-radius: 12px;
      padding: 16px 24px;
      z-index: 3000;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      display: flex;
      align-items: center;
      gap: 12px;
      max-width: 320px;
      width: 90%;
    `,i.innerHTML=`
      <div style="width: 24px; height: 24px; background: #16a34a; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
        <i class="ri-check-line" style="color: white; font-size: 14px;"></i>
      </div>
      <div>
        <p style="font-size: 14px; font-weight: 600; color: #16a34a; margin: 0;">${e}</p>
        <p style="font-size: 12px; color: #15803d; margin: 0;">${t}</p>
      </div>
    `,document.body.appendChild(i),setTimeout(()=>{document.body.contains(i)&&document.body.removeChild(i)},3e3)};return e?r.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsxs)("div",{style:{background:"white",borderRadius:"16px",padding:"32px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",textAlign:"center",width:"90%",maxWidth:"320px"},children:[r.jsx(LoadingSpinner,{}),r.jsx("p",{style:{marginTop:"16px",color:"#6b7280",fontSize:"16px",fontWeight:"500"},children:"Iniciando sesi\xf3n..."})]})}):r.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:(0,r.jsxs)("div",{style:{background:"white",borderRadius:"24px",padding:"32px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",width:"100%",maxWidth:"400px"},children:[(0,r.jsxs)("div",{style:{textAlign:"center",marginBottom:"32px"},children:[r.jsx("div",{style:{marginBottom:"20px",display:"flex",justifyContent:"center",alignItems:"center"},children:r.jsx(Logo,{size:"lg"})}),r.jsx("h1",{style:{fontSize:"28px",fontWeight:"bold",color:"#1f2937",fontFamily:"Pacifico, serif",marginBottom:"12px"},children:"ProFitness"}),r.jsx("p",{style:{color:"#6b7280",fontSize:"16px",lineHeight:"1.6",maxWidth:"280px",margin:"0 auto"},children:"Nutre tu progreso, domina tus resultados"})]}),r.jsx("div",{style:{marginBottom:"24px"},children:r.jsx("div",{id:"google-signin-button",style:{width:"100%",display:"flex",justifyContent:"center"}})}),i&&(0,r.jsxs)("div",{style:{marginTop:"16px",padding:"12px 16px",background:"#fef2f2",borderRadius:"8px",border:"1px solid #fecaca",display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("i",{className:"ri-error-warning-line",style:{color:"#dc2626",fontSize:"16px"}}),r.jsx("p",{style:{color:"#dc2626",fontSize:"14px",margin:0},children:i})]}),(0,r.jsxs)("div",{style:{marginTop:"24px",padding:"16px",background:"#f0f9ff",borderRadius:"12px",border:"1px solid #e0e7ff"},children:[r.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937",margin:"0 0 12px 0"},children:"\xbfQu\xe9 incluye ProFitness?"}),(0,r.jsxs)("div",{style:{display:"grid",gap:"8px"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("i",{className:"ri-check-line",style:{color:"#16a34a",fontSize:"14px"}}),r.jsx("span",{style:{fontSize:"12px",color:"#6b7280"},children:"Seguimiento nutricional completo"})]}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("i",{className:"ri-check-line",style:{color:"#16a34a",fontSize:"14px"}}),r.jsx("span",{style:{fontSize:"12px",color:"#6b7280"},children:"Esc\xe1ner de c\xf3digo de barras"})]}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("i",{className:"ri-check-line",style:{color:"#16a34a",fontSize:"14px"}}),r.jsx("span",{style:{fontSize:"12px",color:"#6b7280"},children:"An\xe1lisis de progreso detallado"})]}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("i",{className:"ri-check-line",style:{color:"#16a34a",fontSize:"14px"}}),r.jsx("span",{style:{fontSize:"12px",color:"#6b7280"},children:"Sincronizaci\xf3n en la nube"})]})]})]}),(0,r.jsxs)("p",{style:{marginTop:"24px",fontSize:"12px",color:"#9ca3af",textAlign:"center",lineHeight:"1.4"},children:["Al continuar, aceptas nuestros ",r.jsx("strong",{children:"T\xe9rminos de Servicio"})," y ",r.jsx("strong",{children:"Pol\xedtica de Privacidad"})]})]})})}},5004:(e,t,i)=>{"use strict";i.r(t),i.d(t,{$$typeof:()=>a,__esModule:()=>n,default:()=>l});var r=i(5153);let o=(0,r.createProxy)(String.raw`C:\Users\biges\OneDrive\Escritorio\profitnessapp\app\login\page.tsx`),{__esModule:n,$$typeof:a}=o,s=o.default,l=s}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),i=t.X(0,[621,675,4],()=>__webpack_exec__(5917));module.exports=i})();