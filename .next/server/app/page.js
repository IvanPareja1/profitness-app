(()=>{var e={};e.id=931,e.ids=[931],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},7310:e=>{"use strict";e.exports=require("url")},5100:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>f,pages:()=>c,routeModule:()=>p,tree:()=>l});var a=t(7096),r=t(6132),o=t(7284),n=t.n(o),i=t(2564),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(s,d);let l=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3982)),"C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,5345)),"C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,4293)),"C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\not-found.tsx"]}],c=["C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\page.tsx"],f="/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},2222:(e,s,t)=>{Promise.resolve().then(t.bind(t,9483))},9483:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>Home});var a=t(784),r=t(3745),o=t.n(r),n=t(1440),i=t.n(n),d=t(9885),l=t(7114),c=t(533);function InstallPrompt(){let[e,s]=(0,d.useState)(null),[t,r]=(0,d.useState)(!1),[n,i]=(0,d.useState)(!1),[l,c]=(0,d.useState)(!1);(0,d.useEffect)(()=>{let t=window.matchMedia("(display-mode: standalone)").matches,a=!0===window.navigator.standalone;if(c(t||a),t||a)return;let handleBeforeInstallPrompt=e=>{e.preventDefault(),s(e),i(!0),setTimeout(()=>{let e=localStorage.getItem("install-prompt-dismissed");"true"!==e&&r(!0)},3e3)},handleAppInstalled=()=>{s(null),r(!1),i(!1),localStorage.removeItem("install-prompt-dismissed")};window.addEventListener("beforeinstallprompt",handleBeforeInstallPrompt),window.addEventListener("appinstalled",handleAppInstalled);let o=window.navigator.userAgent,n=/Android/i.test(o),d=/Chrome/i.test(o);return n&&d&&setTimeout(()=>{if(!e&&!l){let e=localStorage.getItem("install-prompt-dismissed");"true"!==e&&(r(!0),i(!0))}},5e3),()=>{window.removeEventListener("beforeinstallprompt",handleBeforeInstallPrompt),window.removeEventListener("appinstalled",handleAppInstalled)}},[]);let handleInstallClick=async()=>{if(e){e.prompt();let{outcome:t}=await e.userChoice;"accepted"===t&&(s(null),r(!1))}else showManualInstallInstructions()},showManualInstallInstructions=()=>{let e=window.navigator.userAgent,s=/Android/i.test(e),t=/Chrome/i.test(e),a=/Firefox/i.test(e),r="";r=s&&t?'1. Toca los 3 puntos (⋮) en la esquina superior derecha\n2. Selecciona "Instalar app" o "Agregar a pantalla de inicio"\n3. Confirma la instalaci\xf3n':s&&a?'1. Toca los 3 puntos (⋮) en la barra de navegaci\xf3n\n2. Selecciona "Instalar"\n3. Confirma la instalaci\xf3n':'1. Usa el men\xfa del navegador\n2. Busca "Instalar app" o "Agregar a pantalla de inicio"\n3. Confirma la instalaci\xf3n',alert(`Para instalar ProFitness:

${r}`)};return l||!t?null:(0,a.jsxs)("div",{style:{position:"fixed",bottom:"100px",left:"16px",right:"16px",zIndex:9999,background:"white",borderRadius:"16px",padding:"20px",boxShadow:"0 8px 32px rgba(0,0,0,0.12)",border:"1px solid #e5e7eb",animation:"slideUp 0.3s ease-out"},className:"jsx-67bc6494e075165d",children:[a.jsx(o(),{id:"67bc6494e075165d",children:"@-webkit-keyframes slideUp{from{-webkit-transform:translatey(100%);transform:translatey(100%);opacity:0}to{-webkit-transform:translatey(0);transform:translatey(0);opacity:1}}@-moz-keyframes slideUp{from{-moz-transform:translatey(100%);transform:translatey(100%);opacity:0}to{-moz-transform:translatey(0);transform:translatey(0);opacity:1}}@-o-keyframes slideUp{from{-o-transform:translatey(100%);transform:translatey(100%);opacity:0}to{-o-transform:translatey(0);transform:translatey(0);opacity:1}}@keyframes slideUp{from{-webkit-transform:translatey(100%);-moz-transform:translatey(100%);-o-transform:translatey(100%);transform:translatey(100%);opacity:0}to{-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0);opacity:1}}"}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},className:"jsx-67bc6494e075165d",children:[a.jsx("div",{style:{width:"48px",height:"48px",background:"linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"12px"},className:"jsx-67bc6494e075165d",children:a.jsx("i",{style:{color:"white",fontSize:"20px"},className:"jsx-67bc6494e075165d ri-download-line"})}),(0,a.jsxs)("div",{className:"jsx-67bc6494e075165d",children:[a.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",margin:"0 0 4px 0"},className:"jsx-67bc6494e075165d",children:"Instalar ProFitness"}),a.jsx("p",{style:{fontSize:"14px",color:"#6b7280",margin:0},className:"jsx-67bc6494e075165d",children:"Acceso r\xe1pido desde tu pantalla de inicio"})]})]}),(0,a.jsxs)("div",{style:{marginBottom:"16px",padding:"12px",backgroundColor:"#f0f9ff",borderRadius:"8px",border:"1px solid #e0e7ff"},className:"jsx-67bc6494e075165d",children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},className:"jsx-67bc6494e075165d",children:[a.jsx("i",{style:{color:"#3b82f6",fontSize:"16px"},className:"jsx-67bc6494e075165d ri-smartphone-line"}),a.jsx("span",{style:{fontSize:"14px",fontWeight:"500",color:"#1f2937"},className:"jsx-67bc6494e075165d",children:"Funciona sin conexi\xf3n"})]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},className:"jsx-67bc6494e075165d",children:[a.jsx("i",{style:{color:"#3b82f6",fontSize:"16px"},className:"jsx-67bc6494e075165d ri-notification-line"}),a.jsx("span",{style:{fontSize:"14px",fontWeight:"500",color:"#1f2937"},className:"jsx-67bc6494e075165d",children:"Notificaciones personalizadas"})]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},className:"jsx-67bc6494e075165d",children:[a.jsx("i",{style:{color:"#3b82f6",fontSize:"16px"},className:"jsx-67bc6494e075165d ri-speed-line"}),a.jsx("span",{style:{fontSize:"14px",fontWeight:"500",color:"#1f2937"},className:"jsx-67bc6494e075165d",children:"Acceso instant\xe1neo"})]})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"12px"},className:"jsx-67bc6494e075165d",children:[(0,a.jsxs)("button",{onClick:handleInstallClick,style:{flex:1,padding:"12px 16px",background:"linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},className:"jsx-67bc6494e075165d !rounded-button",children:[a.jsx("i",{style:{fontSize:"16px"},className:"jsx-67bc6494e075165d ri-download-line"}),"Instalar"]}),a.jsx("button",{onClick:()=>{r(!1),localStorage.setItem("install-prompt-dismissed","true"),setTimeout(()=>{localStorage.removeItem("install-prompt-dismissed")},864e5)},style:{padding:"12px 16px",background:"#f3f4f6",color:"#6b7280",border:"none",borderRadius:"12px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},className:"jsx-67bc6494e075165d !rounded-button",children:"Ahora no"})]})]})}function UpdateNotification(){let[e,s]=(0,d.useState)(!1),[t,r]=(0,d.useState)(!1);(0,d.useEffect)(()=>{"serviceWorker"in navigator&&(navigator.serviceWorker.register("/sw.js").then(e=>{console.log("Service Worker registrado:",e),e.addEventListener("updatefound",()=>{let t=e.installing;t&&t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&s(!0)})})}).catch(e=>{console.log("Error al registrar Service Worker:",e)}),navigator.serviceWorker.addEventListener("message",e=>{e.data&&"UPDATE_AVAILABLE"===e.data.type&&s(!0)}))},[]);let handleUpdate=async()=>{r(!0);try{navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"SKIP_WAITING"}),setTimeout(()=>{window.location.reload()},1e3)}catch(e){console.error("Error al actualizar:",e),r(!1)}},n=localStorage.getItem("update-dismissed");return n&&Date.now()-parseInt(n)<36e5||!e?null:(0,a.jsxs)("div",{style:{position:"fixed",top:"20px",left:"16px",right:"16px",zIndex:9999,background:"white",borderRadius:"16px",padding:"20px",boxShadow:"0 8px 32px rgba(0,0,0,0.12)",border:"1px solid #e5e7eb",animation:"slideDown 0.3s ease-out"},className:"jsx-6023771b440549ad",children:[a.jsx(o(),{id:"ba2eb6148d9f6904",children:"@-webkit-keyframes slideDown{from{-webkit-transform:translatey(-100%);transform:translatey(-100%);opacity:0}to{-webkit-transform:translatey(0);transform:translatey(0);opacity:1}}@-moz-keyframes slideDown{from{-moz-transform:translatey(-100%);transform:translatey(-100%);opacity:0}to{-moz-transform:translatey(0);transform:translatey(0);opacity:1}}@-o-keyframes slideDown{from{-o-transform:translatey(-100%);transform:translatey(-100%);opacity:0}to{-o-transform:translatey(0);transform:translatey(0);opacity:1}}@keyframes slideDown{from{-webkit-transform:translatey(-100%);-moz-transform:translatey(-100%);-o-transform:translatey(-100%);transform:translatey(-100%);opacity:0}to{-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0);opacity:1}}"}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},className:"jsx-6023771b440549ad",children:[a.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, #16a34a 0%, #15803d 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"12px"},className:"jsx-6023771b440549ad",children:a.jsx("i",{style:{color:"white",fontSize:"18px"},className:"jsx-6023771b440549ad ri-refresh-line"})}),(0,a.jsxs)("div",{className:"jsx-6023771b440549ad",children:[a.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",margin:"0 0 4px 0"},className:"jsx-6023771b440549ad",children:"Actualizaci\xf3n disponible"}),a.jsx("p",{style:{fontSize:"14px",color:"#6b7280",margin:0},className:"jsx-6023771b440549ad",children:"Nueva versi\xf3n de ProFitness lista para instalar"})]})]}),(0,a.jsxs)("div",{style:{marginBottom:"16px",padding:"12px",backgroundColor:"#f0fdf4",borderRadius:"8px",border:"1px solid #dcfce7"},className:"jsx-6023771b440549ad",children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},className:"jsx-6023771b440549ad",children:[a.jsx("i",{style:{color:"#16a34a",fontSize:"16px"},className:"jsx-6023771b440549ad ri-star-line"}),a.jsx("span",{style:{fontSize:"14px",fontWeight:"500",color:"#1f2937"},className:"jsx-6023771b440549ad",children:"Mejoras incluidas:"})]}),(0,a.jsxs)("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"12px",color:"#374151"},className:"jsx-6023771b440549ad",children:[a.jsx("li",{className:"jsx-6023771b440549ad",children:"Esc\xe1ner de c\xf3digos de barras mejorado"}),a.jsx("li",{className:"jsx-6023771b440549ad",children:"Persistencia de datos optimizada"}),a.jsx("li",{className:"jsx-6023771b440549ad",children:"Rendimiento general mejorado"}),a.jsx("li",{className:"jsx-6023771b440549ad",children:"Correcci\xf3n de errores menores"})]})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"12px"},className:"jsx-6023771b440549ad",children:[a.jsx("button",{onClick:handleUpdate,disabled:t,style:{flex:1,padding:"12px 16px",background:t?"#e5e7eb":"linear-gradient(135deg, #16a34a 0%, #15803d 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"14px",fontWeight:"600",cursor:t?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},className:"jsx-6023771b440549ad !rounded-button",children:t?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid #ffffff40",borderTop:"2px solid #ffffff",borderRadius:"50%",animation:"spin 1s linear infinite"},className:"jsx-6023771b440549ad"}),"Actualizando..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("i",{style:{fontSize:"16px"},className:"jsx-6023771b440549ad ri-download-line"}),"Actualizar ahora"]})}),a.jsx("button",{onClick:()=>{s(!1),localStorage.setItem("update-dismissed",Date.now().toString())},disabled:t,style:{padding:"12px 16px",background:"#f3f4f6",color:"#6b7280",border:"none",borderRadius:"12px",fontSize:"14px",fontWeight:"500",cursor:t?"not-allowed":"pointer"},className:"jsx-6023771b440549ad !rounded-button",children:"Despu\xe9s"})]}),a.jsx(o(),{id:"ff161281ed666c63",children:"@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]})}let CloudSyncService=class CloudSyncService{constructor(){this.accessToken=null,this.GOOGLE_DRIVE_API="https://www.googleapis.com/drive/v3",this.FOLDER_NAME="ProFitness_Backup",this.FILE_NAME="user_data_backup.json",this.appVersion="1.0.3",this.deviceId=""}getOrCreateDeviceId(){let e=localStorage.getItem("device_id");return e||(e="device_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem("device_id",e)),e}async requestCloudPermissions(){return!1}async loadGoogleAPI(){return new Promise((e,s)=>{let t=document.createElement("script");t.src="https://accounts.google.com/gsi/client",t.onload=()=>e(),t.onerror=s,document.head.appendChild(t)})}collectUserData(){throw Error("No se puede recopilar datos en el servidor")}getStorageItem(e){try{let s=localStorage.getItem(e);return s?JSON.parse(s):null}catch(s){return console.error(`Error parsing ${e}:`,s),null}}async findOrCreateBackupFolder(){try{let e=await fetch(`${this.GOOGLE_DRIVE_API}/files?q=name='${this.FOLDER_NAME}' and mimeType='application/vnd.google-apps.folder'`,{headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"}}),s=await e.json();if(s.files&&s.files.length>0)return s.files[0].id;let t=await fetch(`${this.GOOGLE_DRIVE_API}/files`,{method:"POST",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify({name:this.FOLDER_NAME,mimeType:"application/vnd.google-apps.folder"})}),a=await t.json();return a.id}catch(e){throw Error("Error al crear carpeta de backup")}}async uploadToCloud(e){if(!this.accessToken)return{success:!1,error:"No hay token de acceso. Solicita permisos primero."};try{let s=await this.findOrCreateBackupFolder(),t=await fetch(`${this.GOOGLE_DRIVE_API}/files?q=name='${this.FILE_NAME}' and parents in '${s}'`,{headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"}}),a=await t.json(),r=a.files&&a.files.length>0,o=r?a.files[0].id:null,n={...e,syncTime:new Date().toISOString(),deviceInfo:{userAgent:navigator.userAgent,platform:navigator.platform,deviceId:this.deviceId,appVersion:this.appVersion}},i="-------314159265358979323846",d="\\r\\n--"+i+"\\r\\n",l={name:this.FILE_NAME,parents:[s]},c=d+"Content-Type: application/json\\r\\n\\r\\n"+JSON.stringify(l)+d+"Content-Type: application/json\\r\\n\\r\\n"+JSON.stringify(n)+"\\r\\n--"+i+"--",f=r?`https://www.googleapis.com/upload/drive/v3/files/${o}?uploadType=multipart`:"https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",x=await fetch(f,{method:r?"PATCH":"POST",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":'multipart/related; boundary="'+i+'"'},body:c});if(!x.ok)throw Error(`Error al subir archivo: ${x.statusText}`);let p=await x.json();return localStorage.setItem("lastCloudSync",JSON.stringify({time:new Date().toISOString(),fileId:p.id,success:!0})),{success:!0,syncTime:new Date().toISOString(),data:n}}catch(e){return console.error("Error uploading to cloud:",e),{success:!1,error:`Error al sincronizar con la nube: ${e instanceof Error?e.message:"Error desconocido"}`}}}async downloadFromCloud(){if(!this.accessToken)return{success:!1,error:"No hay token de acceso. Solicita permisos primero."};try{let e=await this.findOrCreateBackupFolder(),s=await fetch(`${this.GOOGLE_DRIVE_API}/files?q=name='${this.FILE_NAME}' and parents in '${e}'`,{headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"}}),t=await s.json();if(!t.files||0===t.files.length)return{success:!1,error:"No se encontr\xf3 backup en la nube"};let a=t.files[0].id,r=await fetch(`${this.GOOGLE_DRIVE_API}/files/${a}?alt=media`,{headers:{Authorization:`Bearer ${this.accessToken}`}});if(!r.ok)throw Error(`Error al descargar archivo: ${r.statusText}`);let o=await r.json();return{success:!0,data:o,syncTime:o.syncTime}}catch(e){return console.error("Error downloading from cloud:",e),{success:!1,error:`Error al descargar desde la nube: ${e instanceof Error?e.message:"Error desconocido"}`}}}async autoSync(){if(!this.hasPermissions())return{success:!1,error:"No hay permisos de sincronizaci\xf3n"};try{let e=this.collectUserData();return await this.uploadToCloud(e)}catch(e){return{success:!1,error:`Error en sincronizaci\xf3n autom\xe1tica: ${e instanceof Error?e.message:"Error desconocido"}`}}}async restoreFromCloud(){let e=await this.downloadFromCloud();if(!e.success||!e.data)return e;try{let s=e.data;return s.userData&&localStorage.setItem("userData",JSON.stringify(s.userData)),s.userProfile&&localStorage.setItem("userProfile",JSON.stringify(s.userProfile)),s.userProfilePhoto&&localStorage.setItem("userProfilePhoto",s.userProfilePhoto),s.nutritionData&&Object.entries(s.nutritionData).forEach(([e,s])=>{localStorage.setItem(e,s)}),s.fitnessData&&Object.entries(s.fitnessData).forEach(([e,s])=>{localStorage.setItem(e,s)}),s.restDaySettings&&localStorage.setItem("restDaySettings",s.restDaySettings),s.hydrationReminder&&localStorage.setItem("hydrationReminder",s.hydrationReminder),s.healthData&&localStorage.setItem("healthData",s.healthData),localStorage.setItem("dataRestored",JSON.stringify({time:new Date().toISOString(),source:"cloud",deviceId:s.deviceId,appVersion:s.appVersion})),{success:!0,data:s,syncTime:s.syncTime||s.lastSync||new Date().toISOString()}}catch(e){return{success:!1,error:`Error al restaurar datos: ${e instanceof Error?e.message:"Error desconocido"}`}}}hasPermissions(){return null!==this.accessToken}getLastSyncInfo(){return null}async hasCloudBackup(){if(!this.accessToken)return!1;try{let e=await this.findOrCreateBackupFolder(),s=await fetch(`${this.GOOGLE_DRIVE_API}/files?q=name='${this.FILE_NAME}' and parents in '${e}'`,{headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"}}),t=await s.json();return t.files&&t.files.length>0}catch(e){return!1}}async compareWithCloud(){let e=await this.downloadFromCloud();if(!e.success||!e.data)return{cloudNewer:!1,localNewer:!0};let s=new Date(e.data.lastSync),t=this.getLastSyncInfo(),a=new Date(t?t.time:0);return{cloudNewer:s>a,localNewer:a>s,cloudTime:s.toISOString(),localTime:a.toISOString()}}disconnect(){}};let f=new CloudSyncService;function CloudSyncManager({onSyncComplete:e,onDataRestored:s}){let[t,r]=(0,d.useState)(!1),[n,i]=(0,d.useState)("idle"),[l,c]=(0,d.useState)(""),[x,p]=(0,d.useState)(!1),[m,g]=(0,d.useState)(null),[u,h]=(0,d.useState)(!1),[y,b]=(0,d.useState)(!1),[j,N]=(0,d.useState)(null);(0,d.useEffect)(()=>{checkPermissions(),checkLastSync(),checkCloudBackup()},[]);let checkPermissions=()=>{p(f.hasPermissions())},checkLastSync=()=>{let e=f.getLastSyncInfo();g(e)},checkCloudBackup=async()=>{if(f.hasPermissions()){let e=await f.hasCloudBackup();if(b(e),e){let e=await f.compareWithCloud();N(e)}}},handleRequestPermissions=async()=>{i("syncing"),c("Solicitando permisos...");try{let e=await f.requestCloudPermissions();e?(p(!0),i("success"),c("Permisos otorgados correctamente"),setTimeout(()=>{checkCloudBackup()},1e3)):(i("error"),c("Permisos denegados"))}catch(e){i("error"),c("Error al solicitar permisos")}setTimeout(()=>{i("idle"),c("")},3e3)},handleSync=async()=>{i("syncing"),c("Sincronizando datos...");try{let s=await f.autoSync();s.success?(i("success"),c("Datos sincronizados correctamente"),g({time:s.syncTime,success:!0}),e&&e(s)):(i("error"),c(s.error||"Error al sincronizar"))}catch(e){i("error"),c("Error al sincronizar datos")}setTimeout(()=>{i("idle"),c("")},3e3)},handleRestore=async()=>{i("syncing"),c("Restaurando datos...");try{let e=await f.restoreFromCloud();e.success?(i("success"),c("Datos restaurados correctamente"),h(!1),s&&s(),setTimeout(()=>{window.location.reload()},1500)):(i("error"),c(e.error||"Error al restaurar datos"))}catch(e){i("error"),c("Error al restaurar datos")}setTimeout(()=>{i("idle"),c("")},3e3)},formatDate=e=>new Date(e).toLocaleString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return t?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{onClick:()=>r(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e3},className:"jsx-ff161281ed666c63"}),(0,a.jsxs)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"20px",padding:"24px",width:"90%",maxWidth:"400px",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.2)",zIndex:1001},className:"jsx-ff161281ed666c63",children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},className:"jsx-ff161281ed666c63",children:[a.jsx("h3",{style:{fontSize:"20px",fontWeight:"600",color:"#1f2937",margin:0},className:"jsx-ff161281ed666c63",children:"Sincronizaci\xf3n en la Nube"}),a.jsx("button",{onClick:()=>r(!1),style:{background:"none",border:"none",fontSize:"24px",color:"#6b7280",cursor:"pointer"},className:"jsx-ff161281ed666c63",children:"\xd7"})]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"16px",background:x?"#f0fdf4":"#fef3c7",borderRadius:"12px",border:`1px solid ${x?"#dcfce7":"#fde68a"}`,marginBottom:"20px"},className:"jsx-ff161281ed666c63",children:[a.jsx("div",{style:{width:"40px",height:"40px",background:x?"#16a34a":"#f59e0b",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},className:"jsx-ff161281ed666c63",children:a.jsx("i",{style:{color:"white",fontSize:"18px"},className:`jsx-ff161281ed666c63 ri-${x?"cloud-line":"cloud-off-line"}`})}),(0,a.jsxs)("div",{className:"jsx-ff161281ed666c63",children:[a.jsx("p",{style:{fontSize:"14px",fontWeight:"500",color:"#1f2937",margin:"0 0 2px 0"},className:"jsx-ff161281ed666c63",children:x?"Conectado a Google Drive":"Sin conexi\xf3n"}),a.jsx("p",{style:{fontSize:"12px",color:"#6b7280",margin:0},className:"jsx-ff161281ed666c63",children:x?"Datos protegidos en la nube":"Conecta para proteger tus datos"})]})]}),j&&(0,a.jsxs)("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0",marginBottom:"20px"},className:"jsx-ff161281ed666c63",children:[a.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937",margin:"0 0 8px 0"},className:"jsx-ff161281ed666c63",children:"Estado de Sincronizaci\xf3n"}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},className:"jsx-ff161281ed666c63",children:[a.jsx("span",{style:{fontSize:"12px",color:"#6b7280"},className:"jsx-ff161281ed666c63",children:"En la nube:"}),a.jsx("span",{style:{fontSize:"12px",color:"#1f2937"},className:"jsx-ff161281ed666c63",children:j.cloudTime?formatDate(j.cloudTime):"Sin datos"})]}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},className:"jsx-ff161281ed666c63",children:[a.jsx("span",{style:{fontSize:"12px",color:"#6b7280"},className:"jsx-ff161281ed666c63",children:"En el dispositivo:"}),a.jsx("span",{style:{fontSize:"12px",color:"#1f2937"},className:"jsx-ff161281ed666c63",children:j.localTime?formatDate(j.localTime):"Sin datos"})]})]}),l&&(0,a.jsxs)("div",{style:{padding:"12px 16px",background:"success"===n?"#f0fdf4":"error"===n?"#fef2f2":"#fef3c7",border:`1px solid ${"success"===n?"#dcfce7":"error"===n?"#fecaca":"#fde68a"}`,borderRadius:"8px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},className:"jsx-ff161281ed666c63",children:[a.jsx("i",{style:{color:"success"===n?"#16a34a":"error"===n?"#ef4444":"#f59e0b",fontSize:"16px",animation:"syncing"===n?"spin 1s linear infinite":"none"},className:`jsx-ff161281ed666c63 ri-${"syncing"===n?"loader-4-line":"success"===n?"check-line":"error-warning-line"}`}),a.jsx("span",{style:{fontSize:"14px",color:"success"===n?"#16a34a":"error"===n?"#ef4444":"#f59e0b"},className:"jsx-ff161281ed666c63",children:l})]}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},className:"jsx-ff161281ed666c63",children:x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:handleSync,disabled:"syncing"===n,style:{width:"100%",padding:"12px 16px",background:"syncing"===n?"#9ca3af":"linear-gradient(135deg, #16a34a 0%, #10b981 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"syncing"===n?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},className:"jsx-ff161281ed666c63 !rounded-button",children:[a.jsx("i",{style:{animation:"syncing"===n?"spin 1s linear infinite":"none"},className:`jsx-ff161281ed666c63 ri-${"syncing"===n?"loader-4-line":"upload-cloud-line"}`}),"Sincronizar Datos"]}),y&&(0,a.jsxs)("button",{onClick:()=>h(!0),disabled:"syncing"===n,style:{width:"100%",padding:"12px 16px",background:"#f59e0b",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"syncing"===n?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},className:"jsx-ff161281ed666c63 !rounded-button",children:[a.jsx("i",{className:"jsx-ff161281ed666c63 ri-download-cloud-line"}),"Restaurar desde la Nube"]}),(0,a.jsxs)("button",{onClick:()=>{f.disconnect(),p(!1),g(null),b(!1),N(null)},style:{width:"100%",padding:"12px 16px",background:"#f8fafc",color:"#ef4444",border:"1px solid #fecaca",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},className:"jsx-ff161281ed666c63 !rounded-button",children:[a.jsx("i",{className:"jsx-ff161281ed666c63 ri-logout-circle-line"}),"Desconectar"]})]}):(0,a.jsxs)("button",{onClick:handleRequestPermissions,disabled:"syncing"===n,style:{width:"100%",padding:"12px 16px",background:"syncing"===n?"#9ca3af":"linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"syncing"===n?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},className:"jsx-ff161281ed666c63 !rounded-button",children:[a.jsx("i",{className:"jsx-ff161281ed666c63 ri-key-line"}),"Conectar con Google Drive"]})}),(0,a.jsxs)("div",{style:{marginTop:"20px",padding:"16px",background:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},className:"jsx-ff161281ed666c63",children:[a.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937",margin:"0 0 8px 0"},className:"jsx-ff161281ed666c63",children:"\xbfQu\xe9 se sincroniza?"}),(0,a.jsxs)("ul",{style:{fontSize:"12px",color:"#6b7280",margin:"0",paddingLeft:"16px"},className:"jsx-ff161281ed666c63",children:[a.jsx("li",{className:"jsx-ff161281ed666c63",children:"Perfil y configuraciones"}),a.jsx("li",{className:"jsx-ff161281ed666c63",children:"Datos de nutrici\xf3n diarios"}),a.jsx("li",{className:"jsx-ff161281ed666c63",children:"Datos de fitness y ejercicio"}),a.jsx("li",{className:"jsx-ff161281ed666c63",children:"Configuraciones de recordatorios"}),a.jsx("li",{className:"jsx-ff161281ed666c63",children:"Objetivos y progreso"})]})]})]}),u&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",zIndex:1002},className:"jsx-ff161281ed666c63"}),(0,a.jsxs)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"16px",padding:"24px",width:"90%",maxWidth:"320px",zIndex:1003},className:"jsx-ff161281ed666c63",children:[a.jsx("h4",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",margin:"0 0 12px 0"},className:"jsx-ff161281ed666c63",children:"Restaurar Datos"}),a.jsx("p",{style:{fontSize:"14px",color:"#6b7280",margin:"0 0 20px 0"},className:"jsx-ff161281ed666c63",children:"\xbfEst\xe1s seguro de que quieres restaurar los datos desde la nube? Esto sobrescribir\xe1 todos los datos actuales en este dispositivo."}),(0,a.jsxs)("div",{style:{display:"flex",gap:"12px"},className:"jsx-ff161281ed666c63",children:[a.jsx("button",{onClick:()=>h(!1),style:{flex:1,padding:"12px",background:"#f8fafc",color:"#6b7280",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},className:"jsx-ff161281ed666c63 !rounded-button",children:"Cancelar"}),a.jsx("button",{onClick:handleRestore,style:{flex:1,padding:"12px",background:"#ef4444",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},className:"jsx-ff161281ed666c63 !rounded-button",children:"Restaurar"})]})]})]}),a.jsx(o(),{id:"ff161281ed666c63",children:"@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]}):a.jsx("button",{onClick:()=>r(!0),className:"!rounded-button",style:{position:"fixed",top:"20px",left:"20px",width:"48px",height:"48px",background:x?"linear-gradient(135deg, #10b981 0%, #16a34a 100%)":"linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)",border:"none",borderRadius:"50%",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1e3},children:a.jsx("i",{className:`ri-${x?"cloud-line":"cloud-off-line"}`,style:{fontSize:"20px"}})})}var x=t(5891);function Home(){var e;let[s,t]=(0,d.useState)(!1),[r,n]=(0,d.useState)(""),[f,p]=(0,d.useState)(""),[m,g]=(0,d.useState)("es"),[u,h]=(0,d.useState)(null),[y,b]=(0,d.useState)(!1),[j,N]=(0,d.useState)({calories:0,protein:0,carbs:0,fats:0,targetCalories:2e3,targetProtein:120,targetCarbs:250,targetFats:67,meals:[]}),w=(0,l.useRouter)();(0,d.useEffect)(()=>{t(!0)},[w]);let handleAutoRestore=async()=>{try{let e=document.createElement("div");e.style.cssText=`
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
        border: 1px solid #16a34a;
        border-radius: 12px;
        padding: 16px 24px;
        z-index: 3000;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        display: flex;
        align-items: center;
        gap: 12px;
        max-width: 320px;
        width: 90%;
      `,e.innerHTML=`
        <div style="width: 24px; height: 24px; background: #16a34a; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
          <i class="ri-check-line" style="color: white; font-size: 14px;"></i>
        </div>
        <div>
          <p style="font-size: 14px; font-weight: 600; color: #15803d; margin: 0;">Datos restaurados</p>
          <p style="font-size: 12px; color: #16a34a; margin: 0;">Recargando aplicaci\xf3n...</p>
        </div>
      `,document.body.appendChild(e),setTimeout(()=>{window.location.reload()},2e3)}catch(e){console.error("Error al restaurar datos:",e)}},S={es:{dailyProgress:"Progreso del D\xeda",add:"Agregar",calories:"Calor\xedas",protein:"Prote\xednas",carbs:"Carbohidratos",fats:"Grasas",of:"de",quickActions:"Acciones R\xe1pidas",addFood:"Agregar Comida",registerFood:"Registrar alimento",viewNutrition:"Ver Nutrici\xf3n",dailyDetails:"Detalles diarios",todayMeals:"Comidas de Hoy",noMealsRegistered:"No hay comidas registradas",startAdding:"Comienza agregando tu primera comida del d\xeda",addFirstMeal:"Agregar Primera Comida",addMoreFood:"Agregar M\xe1s Comida",breakfast:"Desayuno",lunch:"Almuerzo",dinner:"Cena",snack:"Snack",dataRestoreTitle:"Datos Disponibles en la Nube",dataRestoreMessage:"Hemos detectado que tienes datos guardados en la nube. \xbfQuieres restaurarlos?",restore:"Restaurar",continueWithoutRestore:"Continuar sin restaurar"},en:{dailyProgress:"Daily Progress",add:"Add",calories:"Calories",protein:"Protein",carbs:"Carbs",fats:"Fats",of:"of",quickActions:"Quick Actions",addFood:"Add Food",registerFood:"Register food",viewNutrition:"View Nutrition",dailyDetails:"Daily details",todayMeals:"Today's Meals",noMealsRegistered:"No meals registered",startAdding:"Start by adding your first meal of the day",addFirstMeal:"Add First Meal",addMoreFood:"Add More Food",breakfast:"Breakfast",lunch:"Lunch",dinner:"Dinner",snack:"Snack",dataRestoreTitle:"Cloud Data Available",dataRestoreMessage:"We detected that you have data saved in the cloud. Do you want to restore it?",restore:"Restore",continueWithoutRestore:"Continue without restoring"}},k=S[m]||S.es;if(!s)return(0,a.jsxs)(a.Fragment,{children:[a.jsx(o(),{id:"d525c98fb358669b",children:"@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"}),a.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 100%)",display:"flex",alignItems:"center",justifyContent:"center"},className:"jsx-d525c98fb358669b",children:a.jsx("div",{style:{width:"32px",height:"32px",border:"3px solid #e5e7eb",borderTop:"3px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"},className:"jsx-d525c98fb358669b"})})]});let getPercentage=(e,s)=>Math.min(e/s*100,100),getMealTypeLabel=e=>{let s={desayuno:k.breakfast,almuerzo:k.lunch,cena:k.dinner,snack:k.snack};return s[e]||e},getMealTypeIcon=e=>({desayuno:"ri-sun-line",almuerzo:"ri-restaurant-line",cena:"ri-moon-line",snack:"ri-cake-line"})[e]||"ri-restaurant-line",getMealTypeColor=e=>({desayuno:"#fbbf24",almuerzo:"#10b981",cena:"#6366f1",snack:"#f59e0b"})[e]||"#6b7280",formatTime=e=>{try{return x.r8.formatTimestamp(e,{includeDate:!1,includeTime:!0,timeOptions:{use24Hour:!0}})}catch(t){let s=new Date(e);return s.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}};return(0,a.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 100%)"},className:"jsx-ff161281ed666c63",children:[a.jsx("header",{style:{padding:"20px 16px",background:"white",borderBottom:"1px solid #e5e7eb"},className:"jsx-ff161281ed666c63",children:(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},className:"jsx-ff161281ed666c63",children:[(0,a.jsxs)("div",{className:"jsx-ff161281ed666c63",children:[a.jsx("h1",{style:{fontSize:"24px",fontWeight:"700",color:"#1f2937",margin:"0 0 4px 0",fontFamily:"Pacifico, serif"},className:"jsx-ff161281ed666c63",children:"ProFitness"}),(0,a.jsxs)("p",{style:{color:"#6b7280",fontSize:"14px",margin:0,textTransform:"capitalize"},suppressHydrationWarning:!0,className:"jsx-ff161281ed666c63",children:[r,f&&a.jsx("span",{style:{marginLeft:"8px",fontSize:"12px",opacity:.8},className:"jsx-ff161281ed666c63",children:f})]})]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},className:"jsx-ff161281ed666c63",children:[a.jsx(CloudSyncManager,{}),a.jsx(i(),{href:"/profile",className:"!rounded-button",style:{textDecoration:"none",width:"48px",height:"48px",background:u?.picture?`url(${u.picture})`:"linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)",backgroundSize:"cover",backgroundPosition:"center",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:!u?.picture&&a.jsx("span",{style:{color:"white",fontWeight:"600",fontSize:"16px"},className:"jsx-ff161281ed666c63",children:u?.name?u.name.charAt(0).toUpperCase():"U"})})]})]})}),(0,a.jsxs)("main",{style:{padding:"24px 16px 100px 16px"},className:"jsx-ff161281ed666c63",children:[(0,a.jsxs)("div",{style:{background:"white",borderRadius:"20px",padding:"24px",boxShadow:"0 4px 6px rgba(0,0,0,0.07)",marginBottom:"24px"},className:"jsx-ff161281ed666c63",children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},className:"jsx-ff161281ed666c63",children:[a.jsx("h2",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",margin:0},className:"jsx-ff161281ed666c63",children:k.dailyProgress}),(0,a.jsxs)(i(),{href:"/add-food",className:"!rounded-button",style:{textDecoration:"none",padding:"8px 16px",background:"linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)",color:"white",borderRadius:"20px",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px"},children:[a.jsx("i",{style:{fontSize:"16px"},className:"jsx-ff161281ed666c63 ri-add-line"}),k.add]})]}),(0,a.jsxs)("div",{style:{marginBottom:"24px"},className:"jsx-ff161281ed666c63",children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},className:"jsx-ff161281ed666c63",children:[a.jsx("span",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937"},className:"jsx-ff161281ed666c63",children:k.calories}),(0,a.jsxs)("span",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937"},className:"jsx-ff161281ed666c63",children:[j.calories," / ",j.targetCalories]})]}),a.jsx("div",{style:{width:"100%",height:"12px",backgroundColor:"#f3f4f6",borderRadius:"6px",overflow:"hidden"},className:"jsx-ff161281ed666c63",children:a.jsx("div",{style:{width:`${getPercentage(j.calories,j.targetCalories)}%`,height:"100%",backgroundColor:(e=getPercentage(j.calories,j.targetCalories))>=100?"#10b981":e>=75?"#3b82f6":e>=50?"#f59e0b":"#ef4444",transition:"width 0.3s ease"},className:"jsx-ff161281ed666c63"})})]}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px"},className:"jsx-ff161281ed666c63",children:[(0,a.jsxs)("div",{style:{textAlign:"center",padding:"12px 8px",backgroundColor:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},className:"jsx-ff161281ed666c63",children:[a.jsx("div",{style:{width:"36px",height:"36px",backgroundColor:"#dcfce7",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 8px auto"},className:"jsx-ff161281ed666c63",children:a.jsx("i",{style:{color:"#16a34a",fontSize:"16px"},className:"jsx-ff161281ed666c63 ri-bread-line"})}),a.jsx("p",{style:{fontSize:"12px",color:"#6b7280",margin:"0 0 4px 0"},className:"jsx-ff161281ed666c63",children:k.protein}),(0,a.jsxs)("p",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937",margin:"0 0 4px 0"},className:"jsx-ff161281ed666c63",children:[Math.round(10*j.protein)/10,"g"]}),(0,a.jsxs)("p",{style:{fontSize:"10px",color:"#9ca3af",margin:0},className:"jsx-ff161281ed666c63",children:[k.of," ",j.targetProtein,"g"]})]}),(0,a.jsxs)("div",{style:{textAlign:"center",padding:"12px 8px",backgroundColor:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},className:"jsx-ff161281ed666c63",children:[a.jsx("div",{style:{width:"36px",height:"36px",backgroundColor:"#fef3c7",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 8px auto"},className:"jsx-ff161281ed666c63",children:a.jsx("i",{style:{color:"#f59e0b",fontSize:"16px"},className:"jsx-ff161281ed666c63 ri-restaurant-line"})}),a.jsx("p",{style:{fontSize:"12px",color:"#6b7280",margin:"0 0 4px 0"},className:"jsx-ff161281ed666c63",children:k.carbs}),(0,a.jsxs)("p",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937",margin:"0 0 4px 0"},className:"jsx-ff161281ed666c63",children:[Math.round(10*j.carbs)/10,"g"]}),(0,a.jsxs)("p",{style:{fontSize:"10px",color:"#9ca3af",margin:0},className:"jsx-ff161281ed666c63",children:[k.of," ",j.targetCarbs,"g"]})]}),(0,a.jsxs)("div",{style:{textAlign:"center",padding:"12px 8px",backgroundColor:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},className:"jsx-ff161281ed666c63",children:[a.jsx("div",{style:{width:"36px",height:"36px",backgroundColor:"#e0e7ff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 8px auto"},className:"jsx-ff161281ed666c63",children:a.jsx("i",{style:{color:"#6366f1",fontSize:"16px"},className:"jsx-ff161281ed666c63 ri-drop-line"})}),a.jsx("p",{style:{fontSize:"12px",color:"#6b7280",margin:"0 0 4px 0"},className:"jsx-ff161281ed666c63",children:k.fats}),(0,a.jsxs)("p",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937",margin:"0 0 4px 0"},className:"jsx-ff161281ed666c63",children:[Math.round(10*j.fats)/10,"g"]}),(0,a.jsxs)("p",{style:{fontSize:"10px",color:"#9ca3af",margin:0},className:"jsx-ff161281ed666c63",children:[k.of," ",j.targetFats,"g"]})]})]})]}),(0,a.jsxs)("div",{style:{background:"white",borderRadius:"20px",padding:"24px",boxShadow:"0 4px 6px rgba(0,0,0,0.07)",marginBottom:"24px"},className:"jsx-ff161281ed666c63",children:[a.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",margin:"0 0 16px 0"},className:"jsx-ff161281ed666c63",children:k.quickActions}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"12px"},className:"jsx-ff161281ed666c63",children:[(0,a.jsxs)(i(),{href:"/add-food",className:"!rounded-button",style:{textDecoration:"none",padding:"16px",backgroundColor:"#f0f9ff",borderRadius:"12px",border:"1px solid #e0e7ff",display:"flex",alignItems:"center",gap:"12px",transition:"all 0.2s"},children:[a.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#dbeafe",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},className:"jsx-ff161281ed666c63",children:a.jsx("i",{style:{color:"#3b82f6",fontSize:"18px"},className:"jsx-ff161281ed666c63 ri-add-line"})}),(0,a.jsxs)("div",{className:"jsx-ff161281ed666c63",children:[a.jsx("p",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937",margin:"0 0 2px 0"},className:"jsx-ff161281ed666c63",children:k.addFood}),a.jsx("p",{style:{fontSize:"12px",color:"#6b7280",margin:0},className:"jsx-ff161281ed666c63",children:k.registerFood})]})]}),(0,a.jsxs)(i(),{href:"/nutrition",className:"!rounded-button",style:{textDecoration:"none",padding:"16px",backgroundColor:"#f0fdf4",borderRadius:"12px",border:"1px solid #dcfce7",display:"flex",alignItems:"center",gap:"12px",transition:"all 0.2s"},children:[a.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#dcfce7",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},className:"jsx-ff161281ed666c63",children:a.jsx("i",{style:{color:"#16a34a",fontSize:"18px"},className:"jsx-ff161281ed666c63 ri-pie-chart-line"})}),(0,a.jsxs)("div",{className:"jsx-ff161281ed666c63",children:[a.jsx("p",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937",margin:"0 0 2px 0"},className:"jsx-ff161281ed666c63",children:k.viewNutrition}),a.jsx("p",{style:{fontSize:"12px",color:"#6b7280",margin:0},className:"jsx-ff161281ed666c63",children:k.dailyDetails})]})]})]})]}),(0,a.jsxs)("div",{style:{background:"white",borderRadius:"20px",padding:"24px",boxShadow:"0 4px 6px rgba(0,0,0,0.07)"},className:"jsx-ff161281ed666c63",children:[a.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",margin:"0 0 16px 0"},className:"jsx-ff161281ed666c63",children:k.todayMeals}),0===j.meals.length?(0,a.jsxs)("div",{style:{textAlign:"center",padding:"40px 20px",color:"#6b7280"},className:"jsx-ff161281ed666c63",children:[a.jsx("i",{style:{fontSize:"48px",marginBottom:"16px"},className:"jsx-ff161281ed666c63 ri-restaurant-line"}),a.jsx("p",{style:{fontSize:"16px",fontWeight:"500",margin:"0 0 8px 0"},className:"jsx-ff161281ed666c63",children:k.noMealsRegistered}),a.jsx("p",{style:{fontSize:"14px",margin:"0 0 16px 0"},className:"jsx-ff161281ed666c63",children:k.startAdding}),(0,a.jsxs)(i(),{href:"/add-food",className:"!rounded-button",style:{background:"linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)",color:"white",padding:"12px 24px",borderRadius:"20px",textDecoration:"none",fontSize:"14px",fontWeight:"500",display:"inline-flex",alignItems:"center",gap:"8px"},children:[a.jsx("i",{className:"jsx-ff161281ed666c63 ri-add-line"}),k.addFirstMeal]})]}):(0,a.jsxs)("div",{className:"jsx-ff161281ed666c63",children:[Object.entries((e=>{let s=e.reduce((e,s)=>(e[s.mealType]||(e[s.mealType]=[]),e[s.mealType].push(s),e),{});return s})(j.meals)).map(([e,s])=>(0,a.jsxs)("div",{style:{marginBottom:"20px",padding:"16px",background:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},className:"jsx-ff161281ed666c63",children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},className:"jsx-ff161281ed666c63",children:[a.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"12px"},className:"jsx-ff161281ed666c63",children:a.jsx("i",{style:{color:getMealTypeColor(e),fontSize:"16px"},className:"jsx-ff161281ed666c63 "+(getMealTypeIcon(e)||"")})}),a.jsx("h4",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",margin:0},className:"jsx-ff161281ed666c63",children:getMealTypeLabel(e)})]}),s.map(e=>(0,a.jsxs)("div",{style:{background:"white",padding:"12px",borderRadius:"8px",marginBottom:"8px",border:"1px solid #e5e7eb"},className:"jsx-ff161281ed666c63",children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},className:"jsx-ff161281ed666c63",children:[a.jsx("span",{style:{fontSize:"14px",fontWeight:"500",color:"#1f2937"},className:"jsx-ff161281ed666c63",children:e.name}),a.jsx("span",{style:{fontSize:"12px",color:"#6b7280"},className:"jsx-ff161281ed666c63",children:formatTime(e.timestamp)})]}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},className:"jsx-ff161281ed666c63",children:[(0,a.jsxs)("div",{style:{display:"flex",gap:"12px",fontSize:"12px",color:"#6b7280"},className:"jsx-ff161281ed666c63",children:[(0,a.jsxs)("span",{className:"jsx-ff161281ed666c63",children:[e.quantity,"g"]}),(0,a.jsxs)("span",{className:"jsx-ff161281ed666c63",children:["P: ",Math.round(10*e.protein)/10,"g"]}),(0,a.jsxs)("span",{className:"jsx-ff161281ed666c63",children:["C: ",Math.round(10*e.carbs)/10,"g"]}),(0,a.jsxs)("span",{className:"jsx-ff161281ed666c63",children:["G: ",Math.round(10*e.fats)/10,"g"]})]}),(0,a.jsxs)("span",{style:{fontSize:"14px",fontWeight:"600",color:"#3b82f6"},className:"jsx-ff161281ed666c63",children:[e.calories," cal"]})]})]},e.id))]},e)),(0,a.jsxs)(i(),{href:"/add-food",className:"!rounded-button",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",padding:"12px 16px",background:"#f0f9ff",border:"1px solid #e0e7ff",borderRadius:"12px",color:"#3b82f6",fontSize:"14px",fontWeight:"500",textDecoration:"none"},children:[a.jsx("i",{className:"jsx-ff161281ed666c63 ri-add-line"}),k.addMoreFood]})]})]})]}),y&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",zIndex:2e3},className:"jsx-ff161281ed666c63"}),(0,a.jsxs)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"20px",padding:"24px",width:"90%",maxWidth:"340px",zIndex:2001,boxShadow:"0 8px 32px rgba(0,0,0,0.2)"},className:"jsx-ff161281ed666c63",children:[(0,a.jsxs)("div",{style:{textAlign:"center",marginBottom:"20px"},className:"jsx-ff161281ed666c63",children:[a.jsx("div",{style:{width:"64px",height:"64px",background:"linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px auto"},className:"jsx-ff161281ed666c63",children:a.jsx("i",{style:{color:"white",fontSize:"28px"},className:"jsx-ff161281ed666c63 ri-cloud-line"})}),a.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",margin:"0 0 8px 0"},className:"jsx-ff161281ed666c63",children:k.dataRestoreTitle}),a.jsx("p",{style:{fontSize:"14px",color:"#6b7280",margin:0},className:"jsx-ff161281ed666c63",children:k.dataRestoreMessage})]}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},className:"jsx-ff161281ed666c63",children:[(0,a.jsxs)("button",{onClick:handleAutoRestore,style:{width:"100%",padding:"12px 16px",background:"linear-gradient(135deg, #16a34a 0%, #10b981 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},className:"jsx-ff161281ed666c63 !rounded-button",children:[a.jsx("i",{className:"jsx-ff161281ed666c63 ri-download-cloud-line"}),k.restore]}),a.jsx("button",{onClick:()=>b(!1),style:{width:"100%",padding:"12px 16px",background:"#f8fafc",color:"#6b7280",border:"1px solid #e5e7eb",borderRadius:"12px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},className:"jsx-ff161281ed666c63 !rounded-button",children:k.continueWithoutRestore})]})]})]}),a.jsx(UpdateNotification,{}),a.jsx(InstallPrompt,{}),a.jsx(c.Z,{}),a.jsx(o(),{id:"ff161281ed666c63",children:"@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]})}},3982:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>o,default:()=>d});var a=t(5153);let r=(0,a.createProxy)(String.raw`C:\Users\biges\OneDrive\Escritorio\profitnessapp\app\page.tsx`),{__esModule:o,$$typeof:n}=r,i=r.default,d=i}};var s=require("../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[621,675,4,981],()=>__webpack_exec__(5100));module.exports=t})();