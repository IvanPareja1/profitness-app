(()=>{var e={};e.id=503,e.ids=[503],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},43593:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>u,tree:()=>c});var t=s(50482),a=s(69108),i=s(62563),n=s.n(i),l=s(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(r,o);let c=["",{children:["custom-food",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,13288)),"C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\custom-food\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,82917)),"C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,1429)),"C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\not-found.tsx"]}],d=["C:\\Users\\biges\\OneDrive\\Escritorio\\profitnessapp\\app\\custom-food\\page.tsx"],x="/custom-food/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/custom-food/page",pathname:"/custom-food",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},53635:()=>{},70881:(e,r,s)=>{Promise.resolve().then(s.bind(s,72500))},39163:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,26840,23)),Promise.resolve().then(s.t.bind(s,38771,23)),Promise.resolve().then(s.t.bind(s,13225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,43982,23))},35303:()=>{},72500:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c});var t=s(95344),a=s(3729),i=s(20783),n=s.n(i),l=s(72829),o=s(22254);function c(){let[e,r]=(0,a.useState)(!1),[s,i]=(0,a.useState)(!1),c=(0,o.useRouter)(),[d,x]=(0,a.useState)({name:"",brand:"",calories:0,protein:0,carbs:0,fat:0,fiber:0,sugar:0,sodium:0,serving_size:"100",serving_unit:"g",category:"otros"}),m=[{id:"g",name:"gramos"},{id:"ml",name:"mililitros"},{id:"taza",name:"taza"},{id:"cucharada",name:"cucharada"},{id:"cucharadita",name:"cucharadita"},{id:"pieza",name:"pieza/unidad"},{id:"rebanada",name:"rebanada"},{id:"porcion",name:"porci\xf3n"}],u=(e,r)=>{x(s=>({...s,[e]:r}))},p=()=>d.name.trim()?d.calories<0||d.protein<0||d.carbs<0||d.fat<0?(alert("Los valores nutricionales no pueden ser negativos"),!1):!(!d.serving_size||0>=parseFloat(d.serving_size))||(alert("Por favor ingresa un tama\xf1o de porci\xf3n v\xe1lido"),!1):(alert("Por favor ingresa el nombre del alimento"),!1),g=async e=>{if(e.preventDefault(),p()){r(!0);try{let e=await (0,l.ts)();if(!e){c.push("/auth");return}await (0,l.i1)("nutrition-tracker",{action:"add_custom_food",userId:e.id,customFood:{...d,calories:Number(d.calories),protein:Number(d.protein),carbs:Number(d.carbs),fat:Number(d.fat),fiber:Number(d.fiber),sugar:Number(d.sugar),sodium:Number(d.sodium),serving_size:parseFloat(d.serving_size)}}),i(!0),x({name:"",brand:"",calories:0,protein:0,carbs:0,fat:0,fiber:0,sugar:0,sodium:0,serving_size:"100",serving_unit:"g",category:"otros"}),setTimeout(()=>{i(!1)},3e3)}catch(e){console.error("Error saving custom food:",e),alert("Error al guardar el alimento personalizado. Int\xe9ntalo de nuevo.")}finally{r(!1)}}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50",children:[s&&(0,t.jsxs)("div",{className:"fixed top-20 left-4 right-4 bg-green-500 text-white px-4 py-3 rounded-lg shadow-lg z-50 flex items-center space-x-2",children:[t.jsx("i",{className:"ri-check-line text-lg"}),t.jsx("span",{children:"\xa1Alimento personalizado creado exitosamente!"})]}),t.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white/95 backdrop-blur-sm shadow-sm z-10",children:(0,t.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx(n(),{href:"/food-search",className:"w-8 h-8 flex items-center justify-center",children:t.jsx("i",{className:"ri-arrow-left-line text-gray-600 text-xl"})}),t.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Crear Alimento"})]}),t.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-add-line text-purple-500 text-lg"})})]})}),(0,t.jsxs)("div",{className:"pt-20 pb-20 px-4",children:[(0,t.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,t.jsxs)("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center space-x-2",children:[t.jsx("i",{className:"ri-information-line text-purple-500"}),t.jsx("span",{children:"Informaci\xf3n B\xe1sica"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Alimento *"}),t.jsx("input",{type:"text",value:d.name,onChange:e=>u("name",e.target.value),placeholder:"Ej: Pasta casera, Smoothie de frutas...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Marca (Opcional)"}),t.jsx("input",{type:"text",value:d.brand,onChange:e=>u("brand",e.target.value),placeholder:"Ej: Casero, Marca comercial...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categor\xeda"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"frutas",name:"Frutas",icon:"ri-apple-line"},{id:"verduras",name:"Verduras",icon:"ri-leaf-line"},{id:"proteinas",name:"Prote\xednas",icon:"ri-restaurant-line"},{id:"cereales",name:"Cereales",icon:"ri-seedling-line"},{id:"lacteos",name:"L\xe1cteos",icon:"ri-cup-line"},{id:"grasas",name:"Grasas",icon:"ri-drop-line"},{id:"bebidas",name:"Bebidas",icon:"ri-glass-line"},{id:"snacks",name:"Snacks",icon:"ri-cake-line"},{id:"condimentos",name:"Condimentos",icon:"ri-flask-line"},{id:"otros",name:"Otros",icon:"ri-more-line"}].map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>u("category",e.id),className:`flex items-center space-x-2 p-3 rounded-xl border transition-all ${d.category===e.id?"bg-purple-100 border-purple-300 text-purple-700":"bg-gray-50 border-gray-200 text-gray-600"}`,children:[t.jsx("i",{className:`${e.icon} text-sm`}),t.jsx("span",{className:"text-sm font-medium",children:e.name})]},e.id))})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,t.jsxs)("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center space-x-2",children:[t.jsx("i",{className:"ri-scales-line text-purple-500"}),t.jsx("span",{children:"Tama\xf1o de Porci\xf3n"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cantidad *"}),t.jsx("input",{type:"number",step:"0.1",min:"0.1",value:d.serving_size,onChange:e=>u("serving_size",e.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unidad"}),t.jsx("select",{value:d.serving_unit,onChange:e=>u("serving_unit",e.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:m.map(e=>t.jsx("option",{value:e.id,children:e.name},e.id))})]})]}),t.jsx("div",{className:"mt-3 p-3 bg-purple-50 border border-purple-200 rounded-xl",children:(0,t.jsxs)("p",{className:"text-sm text-purple-700",children:[t.jsx("i",{className:"ri-information-line mr-1"}),"Los valores nutricionales se calcular\xe1n por ",d.serving_size," ",m.find(e=>e.id===d.serving_unit)?.name]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,t.jsxs)("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center space-x-2",children:[t.jsx("i",{className:"ri-pie-chart-line text-purple-500"}),t.jsx("span",{children:"Macronutrientes *"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Calor\xedas (kcal)"}),t.jsx("input",{type:"number",step:"0.1",min:"0",value:d.calories,onChange:e=>u("calories",parseFloat(e.target.value)||0),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prote\xednas (g)"}),t.jsx("input",{type:"number",step:"0.1",min:"0",value:d.protein,onChange:e=>u("protein",parseFloat(e.target.value)||0),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Carbohidratos (g)"}),t.jsx("input",{type:"number",step:"0.1",min:"0",value:d.carbs,onChange:e=>u("carbs",parseFloat(e.target.value)||0),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grasas (g)"}),t.jsx("input",{type:"number",step:"0.1",min:"0",value:d.fat,onChange:e=>u("fat",parseFloat(e.target.value)||0),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),t.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-xl",children:(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-3 text-center",children:[(0,t.jsxs)("div",{children:[t.jsx("div",{className:"text-lg font-bold text-orange-600",children:d.calories}),t.jsx("div",{className:"text-xs text-gray-500",children:"kcal"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-lg font-bold text-blue-600",children:[d.protein,"g"]}),t.jsx("div",{className:"text-xs text-gray-500",children:"Prote\xedna"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[d.carbs,"g"]}),t.jsx("div",{className:"text-xs text-gray-500",children:"Carbohidratos"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-lg font-bold text-yellow-600",children:[d.fat,"g"]}),t.jsx("div",{className:"text-xs text-gray-500",children:"Grasas"})]})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,t.jsxs)("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center space-x-2",children:[t.jsx("i",{className:"ri-microscope-line text-purple-500"}),t.jsx("span",{children:"Micronutrientes (Opcional)"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fibra (g)"}),t.jsx("input",{type:"number",step:"0.1",min:"0",value:d.fiber,onChange:e=>u("fiber",parseFloat(e.target.value)||0),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Az\xfacar (g)"}),t.jsx("input",{type:"number",step:"0.1",min:"0",value:d.sugar,onChange:e=>u("sugar",parseFloat(e.target.value)||0),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sodio (mg)"}),t.jsx("input",{type:"number",step:"0.1",min:"0",value:d.sodium,onChange:e=>u("sodium",parseFloat(e.target.value)||0),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[t.jsx(n(),{href:"/food-search",className:"flex-1 border border-gray-300 text-gray-700 py-4 rounded-xl font-medium text-center",children:"Cancelar"}),t.jsx("button",{type:"submit",disabled:e,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white py-4 rounded-xl font-medium disabled:opacity-50 flex items-center justify-center space-x-2",children:e?(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Guardando..."})]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx("i",{className:"ri-save-line"}),t.jsx("span",{children:"Crear Alimento"})]})})]})]}),(0,t.jsxs)("div",{className:"mt-6 bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,t.jsxs)("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center space-x-2",children:[t.jsx("i",{className:"ri-lightbulb-line text-yellow-500"}),t.jsx("span",{children:"Consejos \xdatiles"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,t.jsxs)("p",{className:"flex items-start space-x-2",children:[t.jsx("i",{className:"ri-arrow-right-s-line text-purple-500 mt-0.5 flex-shrink-0"}),t.jsx("span",{children:"Puedes encontrar informaci\xf3n nutricional en el empaque del producto"})]}),(0,t.jsxs)("p",{className:"flex items-start space-x-2",children:[t.jsx("i",{className:"ri-arrow-right-s-line text-purple-500 mt-0.5 flex-shrink-0"}),t.jsx("span",{children:"Para recetas caseras, suma los ingredientes individuales"})]}),(0,t.jsxs)("p",{className:"flex items-start space-x-2",children:[t.jsx("i",{className:"ri-arrow-right-s-line text-purple-500 mt-0.5 flex-shrink-0"}),t.jsx("span",{children:"Los alimentos personalizados aparecer\xe1n en tus b\xfasquedas futuras"})]})]})]})]}),t.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200",children:(0,t.jsxs)("div",{className:"grid grid-cols-5 py-2",children:[(0,t.jsxs)(n(),{href:"/",className:"flex flex-col items-center justify-center py-2",children:[t.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:t.jsx("i",{className:"ri-home-line text-gray-400 text-lg"})}),t.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Inicio"})]}),(0,t.jsxs)(n(),{href:"/nutrition",className:"flex flex-col items-center justify-center py-2",children:[t.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:t.jsx("i",{className:"ri-restaurant-fill text-green-500 text-lg"})}),t.jsx("span",{className:"text-xs text-green-500 mt-1",children:"Comida"})]}),t.jsx(n(),{href:"/scan",className:"flex flex-col items-center justify-center py-2",children:t.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-qr-scan-2-line text-white text-lg"})})}),(0,t.jsxs)(n(),{href:"/reports",className:"flex flex-col items-center justify-center py-2",children:[t.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:t.jsx("i",{className:"ri-bar-chart-line text-gray-400 text-lg"})}),t.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Reportes"})]}),(0,t.jsxs)(n(),{href:"/profile",className:"flex flex-col items-center justify-center py-2",children:[t.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:t.jsx("i",{className:"ri-user-line text-gray-400 text-lg"})}),t.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Perfil"})]})]})})]})}},72829:(e,r,s)=>{"use strict";s.d(r,{OQ:()=>i,i1:()=>n,qj:()=>l,ts:()=>c,w7:()=>o});var t=s(99072);let a="https://lsfzabwrnjmrmdaaogsi.supabase.co",i=(0,t.eI)(a,"sb_publishable_ZX7t7icj97FcIur6HF94FQ__s5IeQIt");async function n(e,r,s){try{let t={"Content-Type":"application/json"};s&&(t.Authorization=`Bearer ${s}`);let i=await fetch(`${a}/functions/v1/${e}`,{method:"POST",headers:t,body:JSON.stringify(r)});if(!i.ok)throw Error(`Error ${i.status}: ${i.statusText}`);return await i.json()}catch(r){throw console.error(`Error calling ${e}:`,r),r}}async function l(){try{let{data:e,error:r}=await i.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/profile`,queryParams:{access_type:"offline",prompt:"consent"}}});if(r)throw r;return e}catch(e){throw console.error("Error signing in with Google:",e),e}}async function o(){try{let{error:e}=await i.auth.signOut();if(e)throw e}catch(e){throw console.error("Error signing out:",e),e}}async function c(){try{let{data:{user:e},error:r}=await i.auth.getUser();if(r)throw r;return e}catch(e){return console.error("Error getting current user:",e),null}}},13288:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});let t=(0,s(86843).createProxy)(String.raw`C:\Users\biges\OneDrive\Escritorio\profitnessapp\app\custom-food\page.tsx`),{__esModule:a,$$typeof:i}=t,n=t.default},82917:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c,metadata:()=>o});var t=s(25036),a=s(46428),i=s.n(a),n=s(83353),l=s.n(n);s(1615);let o={title:"ProFitness",description:"Tu compa\xf1ero personal de nutrici\xf3n y fitness"};function c({children:e}){return t.jsx("html",{lang:"es",suppressHydrationWarning:!0,children:t.jsx("body",{className:`${l().variable} ${i().variable} antialiased`,children:e})})}},1429:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});var t=s(25036);function a(){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen text-center px-4",children:[t.jsx("h1",{className:"text-5xl md:text-5xl font-semibold text-gray-100",children:"404"}),t.jsx("h1",{className:"text-2xl md:text-3xl font-semibold mt-6",children:"This page has not been generated"}),t.jsx("p",{className:"mt-4 text-xl md:text-2xl text-gray-500",children:"Tell me what you would like on this page"})]})}},1615:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[638,612,667,493],()=>s(43593));module.exports=t})();